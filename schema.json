{
  "openapi": "3.1.0",
  "info": {
    "title": "Eatmoji API",
    "version": "2.0.0",
    "description": "Eatmoji API Documentation"
  },
  "components": {
    "schemas": {},
    "parameters": {}
  },
  "paths": {
    "/tasks": {
      "get": {
        "operationId": "get_TaskList",
        "parameters": [
          {
            "schema": {
              "type": "integer",
              "minimum": 1,
              "default": 1
            },
            "required": false,
            "name": "page",
            "in": "query"
          },
          {
            "schema": {
              "type": "integer",
              "minimum": 1,
              "maximum": 100,
              "default": 20
            },
            "required": false,
            "name": "per_page",
            "in": "query"
          },
          {
            "schema": {
              "type": "string",
              "description": "Search by name, slug, description"
            },
            "required": false,
            "name": "search",
            "in": "query"
          }
        ],
        "responses": {
          "200": {
            "description": "List objects",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "result": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "integer"
                          },
                          "name": {
                            "type": "string"
                          },
                          "slug": {
                            "type": "string"
                          },
                          "description": {
                            "type": "string"
                          },
                          "completed": {
                            "type": "boolean"
                          },
                          "due_date": {
                            "type": "string",
                            "format": "date-time"
                          }
                        },
                        "required": [
                          "id",
                          "name",
                          "slug",
                          "description",
                          "completed",
                          "due_date"
                        ]
                      }
                    }
                  },
                  "required": [
                    "success",
                    "result"
                  ]
                }
              }
            }
          }
        }
      },
      "post": {
        "operationId": "post_TaskCreate",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string"
                  },
                  "slug": {
                    "type": "string"
                  },
                  "description": {
                    "type": "string"
                  },
                  "completed": {
                    "type": "boolean"
                  },
                  "due_date": {
                    "type": "string",
                    "format": "date-time"
                  }
                },
                "required": [
                  "name",
                  "slug",
                  "description",
                  "completed",
                  "due_date"
                ]
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Returns the created Object",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "result": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "integer"
                        },
                        "name": {
                          "type": "string"
                        },
                        "slug": {
                          "type": "string"
                        },
                        "description": {
                          "type": "string"
                        },
                        "completed": {
                          "type": "boolean"
                        },
                        "due_date": {
                          "type": "string",
                          "format": "date-time"
                        }
                      },
                      "required": [
                        "id",
                        "name",
                        "slug",
                        "description",
                        "completed",
                        "due_date"
                      ]
                    }
                  },
                  "required": [
                    "success",
                    "result"
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Input Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "enum": [
                        false
                      ]
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "code": {
                            "type": "number",
                            "example": 7001
                          },
                          "message": {
                            "type": "string",
                            "example": "Input Validation Error"
                          },
                          "path": {
                            "type": "array",
                            "items": {
                              "type": "string",
                              "example": "body"
                            }
                          }
                        },
                        "required": [
                          "code",
                          "message",
                          "path"
                        ]
                      }
                    }
                  },
                  "required": [
                    "success",
                    "errors"
                  ]
                }
              }
            }
          }
        }
      }
    },
    "/tasks/{id}": {
      "get": {
        "operationId": "get_TaskRead",
        "parameters": [
          {
            "schema": {
              "type": "integer"
            },
            "required": true,
            "name": "id",
            "in": "path"
          }
        ],
        "responses": {
          "200": {
            "description": "Returns a single object if found",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "result": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "integer"
                        },
                        "name": {
                          "type": "string"
                        },
                        "slug": {
                          "type": "string"
                        },
                        "description": {
                          "type": "string"
                        },
                        "completed": {
                          "type": "boolean"
                        },
                        "due_date": {
                          "type": "string",
                          "format": "date-time"
                        }
                      },
                      "required": [
                        "id",
                        "name",
                        "slug",
                        "description",
                        "completed",
                        "due_date"
                      ]
                    }
                  },
                  "required": [
                    "success",
                    "result"
                  ]
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "enum": [
                        false
                      ]
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "code": {
                            "type": "number",
                            "example": 7002
                          },
                          "message": {
                            "type": "string",
                            "example": "Not Found"
                          }
                        },
                        "required": [
                          "code",
                          "message"
                        ]
                      }
                    }
                  },
                  "required": [
                    "success",
                    "errors"
                  ]
                }
              }
            }
          }
        }
      },
      "put": {
        "operationId": "put_TaskUpdate",
        "parameters": [
          {
            "schema": {
              "type": "integer"
            },
            "required": true,
            "name": "id",
            "in": "path"
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string"
                  },
                  "slug": {
                    "type": "string"
                  },
                  "description": {
                    "type": "string"
                  },
                  "completed": {
                    "type": "boolean"
                  },
                  "due_date": {
                    "type": "string",
                    "format": "date-time"
                  }
                },
                "required": [
                  "name",
                  "slug",
                  "description",
                  "completed",
                  "due_date"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Returns the updated Object",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "result": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "integer"
                        },
                        "name": {
                          "type": "string"
                        },
                        "slug": {
                          "type": "string"
                        },
                        "description": {
                          "type": "string"
                        },
                        "completed": {
                          "type": "boolean"
                        },
                        "due_date": {
                          "type": "string",
                          "format": "date-time"
                        }
                      },
                      "required": [
                        "id",
                        "name",
                        "slug",
                        "description",
                        "completed",
                        "due_date"
                      ]
                    }
                  },
                  "required": [
                    "success",
                    "result"
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Input Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "enum": [
                        false
                      ]
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "code": {
                            "type": "number",
                            "example": 7001
                          },
                          "message": {
                            "type": "string",
                            "example": "Input Validation Error"
                          },
                          "path": {
                            "type": "array",
                            "items": {
                              "type": "string",
                              "example": "body"
                            }
                          }
                        },
                        "required": [
                          "code",
                          "message",
                          "path"
                        ]
                      }
                    }
                  },
                  "required": [
                    "success",
                    "errors"
                  ]
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "enum": [
                        false
                      ]
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "code": {
                            "type": "number",
                            "example": 7002
                          },
                          "message": {
                            "type": "string",
                            "example": "Not Found"
                          }
                        },
                        "required": [
                          "code",
                          "message"
                        ]
                      }
                    }
                  },
                  "required": [
                    "success",
                    "errors"
                  ]
                }
              }
            }
          }
        }
      },
      "delete": {
        "operationId": "delete_TaskDelete",
        "parameters": [
          {
            "schema": {
              "type": "integer"
            },
            "required": true,
            "name": "id",
            "in": "path"
          }
        ],
        "responses": {
          "200": {
            "description": "Returns the Object if it was successfully deleted",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "result": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "integer"
                        },
                        "name": {
                          "type": "string"
                        },
                        "slug": {
                          "type": "string"
                        },
                        "description": {
                          "type": "string"
                        },
                        "completed": {
                          "type": "boolean"
                        },
                        "due_date": {
                          "type": "string",
                          "format": "date-time"
                        }
                      },
                      "required": [
                        "id",
                        "name",
                        "slug",
                        "description",
                        "completed",
                        "due_date"
                      ]
                    }
                  },
                  "required": [
                    "success",
                    "result"
                  ]
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "enum": [
                        false
                      ]
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "code": {
                            "type": "number",
                            "example": 7002
                          },
                          "message": {
                            "type": "string",
                            "example": "Not Found"
                          }
                        },
                        "required": [
                          "code",
                          "message"
                        ]
                      }
                    }
                  },
                  "required": [
                    "success",
                    "errors"
                  ]
                }
              }
            }
          }
        }
      }
    },
    "/diaries": {
      "get": {
        "tags": [
          "Diaries"
        ],
        "summary": "獲取使用者的 diary 列表",
        "description": "獲取已驗證使用者的 diary 列表，支援可選的日期過濾",
        "operationId": "getDiaries",
        "security": [
          {
            "Bearer": []
          }
        ],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "description": "過濾此日期之後的 diary 項目（包含此日期）"
            },
            "required": false,
            "description": "過濾此日期之後的 diary 項目（包含此日期）",
            "name": "date",
            "in": "query"
          }
        ],
        "responses": {
          "200": {
            "description": "成功獲取 diary 列表",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "result": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "string"
                          },
                          "userId": {
                            "type": "string"
                          },
                          "name": {
                            "type": "string"
                          },
                          "brand": {
                            "type": "string"
                          },
                          "originalImgs": {
                            "type": [
                              "array",
                              "null"
                            ],
                            "items": {
                              "type": "string"
                            }
                          },
                          "stickerImg": {
                            "type": [
                              "string",
                              "null"
                            ]
                          },
                          "calories": {
                            "type": "number",
                            "default": 0
                          },
                          "protein": {
                            "type": "number",
                            "default": 0
                          },
                          "carbs": {
                            "type": "number",
                            "default": 0
                          },
                          "fat": {
                            "type": "number",
                            "default": 0
                          },
                          "healthAssessment": {
                            "type": "object",
                            "properties": {
                              "score": {
                                "type": "number"
                              },
                              "pros": {
                                "type": "array",
                                "items": {},
                                "default": []
                              },
                              "cons": {
                                "type": "array",
                                "items": {},
                                "default": []
                              }
                            },
                            "required": [
                              "score"
                            ]
                          },
                          "ingredients": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "properties": {
                                "name": {
                                  "type": "string"
                                },
                                "calories": {
                                  "type": "number",
                                  "default": 0
                                },
                                "protein": {
                                  "type": "number",
                                  "default": 0
                                },
                                "carbs": {
                                  "type": "number",
                                  "default": 0
                                },
                                "fat": {
                                  "type": "number",
                                  "default": 0
                                },
                                "amountValue": {
                                  "type": "number",
                                  "default": 0
                                },
                                "amountUnit": {
                                  "type": "string"
                                },
                                "status": {
                                  "type": "string",
                                  "enum": [
                                    "uploading",
                                    "analyzing",
                                    "done",
                                    "failed"
                                  ],
                                  "default": "done"
                                },
                                "imageUrl": {
                                  "type": [
                                    "string",
                                    "null"
                                  ]
                                }
                              },
                              "required": [
                                "name",
                                "amountUnit"
                              ]
                            }
                          },
                          "portions": {
                            "type": "number",
                            "default": 1
                          },
                          "sourceId": {
                            "type": [
                              "string",
                              "null"
                            ]
                          },
                          "source": {
                            "type": [
                              "string",
                              "null"
                            ]
                          },
                          "status": {
                            "type": "string",
                            "enum": [
                              "uploading",
                              "analyzing",
                              "done",
                              "failed"
                            ],
                            "default": "done"
                          },
                          "progress": {
                            "type": "number"
                          },
                          "error": {
                            "type": [
                              "string",
                              "null"
                            ]
                          },
                          "diaryDate": {},
                          "createdAt": {},
                          "updatedAt": {},
                          "isDeleted": {
                            "type": "boolean",
                            "default": false
                          },
                          "deletedAt": {}
                        },
                        "required": [
                          "id",
                          "name"
                        ]
                      }
                    },
                    "error": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "success"
                  ],
                  "description": "Diary 列表回應"
                }
              }
            }
          },
          "400": {
            "description": "請求參數錯誤",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "default": false
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "code": {
                            "type": "number"
                          },
                          "message": {
                            "type": "string"
                          }
                        },
                        "required": [
                          "code",
                          "message"
                        ]
                      }
                    }
                  },
                  "required": [
                    "errors"
                  ]
                }
              }
            }
          },
          "401": {
            "description": "未授權 - 需要有效的 Firebase ID token",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "default": false
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "code": {
                            "type": "number"
                          },
                          "message": {
                            "type": "string"
                          }
                        },
                        "required": [
                          "code",
                          "message"
                        ]
                      }
                    }
                  },
                  "required": [
                    "errors"
                  ]
                }
              }
            }
          },
          "500": {
            "description": "伺服器錯誤",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "default": false
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "code": {
                            "type": "number"
                          },
                          "message": {
                            "type": "string"
                          }
                        },
                        "required": [
                          "code",
                          "message"
                        ]
                      }
                    }
                  },
                  "required": [
                    "errors"
                  ]
                }
              }
            }
          }
        }
      }
    },
    "/diaries/with-images": {
      "post": {
        "tags": [
          "Diaries"
        ],
        "summary": "建立包含圖片的新 diary",
        "description": "建立新的 diary 項目，支援原始圖片和貼紙圖片的上傳處理",
        "operationId": "createDiaryWithImages",
        "security": [
          {
            "Bearer": []
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "diaryData": {
                    "type": "object",
                    "properties": {
                      "id": {
                        "type": "string"
                      },
                      "name": {
                        "type": "string"
                      },
                      "brand": {
                        "type": "string"
                      },
                      "calories": {
                        "type": "number",
                        "default": 0
                      },
                      "protein": {
                        "type": "number",
                        "default": 0
                      },
                      "carbs": {
                        "type": "number",
                        "default": 0
                      },
                      "fat": {
                        "type": "number",
                        "default": 0
                      },
                      "healthAssessment": {
                        "type": "object",
                        "properties": {
                          "score": {
                            "type": "number"
                          },
                          "pros": {
                            "type": "array",
                            "items": {},
                            "default": []
                          },
                          "cons": {
                            "type": "array",
                            "items": {},
                            "default": []
                          }
                        },
                        "required": [
                          "score"
                        ]
                      },
                      "ingredients": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "properties": {
                            "name": {
                              "type": "string"
                            },
                            "calories": {
                              "type": "number",
                              "default": 0
                            },
                            "protein": {
                              "type": "number",
                              "default": 0
                            },
                            "carbs": {
                              "type": "number",
                              "default": 0
                            },
                            "fat": {
                              "type": "number",
                              "default": 0
                            },
                            "amountValue": {
                              "type": "number",
                              "default": 0
                            },
                            "amountUnit": {
                              "type": "string"
                            },
                            "status": {
                              "type": "string",
                              "enum": [
                                "uploading",
                                "analyzing",
                                "done",
                                "failed"
                              ],
                              "default": "done"
                            },
                            "imageUrl": {
                              "type": [
                                "string",
                                "null"
                              ]
                            }
                          },
                          "required": [
                            "name",
                            "amountUnit"
                          ]
                        }
                      },
                      "portions": {
                        "type": "number",
                        "default": 1
                      },
                      "sourceId": {
                        "type": [
                          "string",
                          "null"
                        ]
                      },
                      "source": {
                        "type": [
                          "string",
                          "null"
                        ]
                      },
                      "status": {
                        "type": "string",
                        "enum": [
                          "uploading",
                          "analyzing",
                          "done",
                          "failed"
                        ],
                        "default": "done"
                      },
                      "progress": {
                        "type": "number"
                      },
                      "error": {
                        "type": [
                          "string",
                          "null"
                        ]
                      },
                      "diaryDate": {},
                      "isDeleted": {
                        "type": "boolean",
                        "default": false
                      },
                      "deletedAt": {}
                    },
                    "required": [
                      "id",
                      "name"
                    ]
                  },
                  "originalImgs": {
                    "type": [
                      "array",
                      "null"
                    ],
                    "items": {
                      "anyOf": [
                        {
                          "type": "string"
                        },
                        {}
                      ]
                    }
                  },
                  "stickerImg": {
                    "anyOf": [
                      {
                        "type": "string"
                      },
                      {},
                      {
                        "type": "null"
                      }
                    ]
                  },
                  "saveToFoodDB": {
                    "type": "boolean",
                    "default": false
                  }
                },
                "required": [
                  "diaryData"
                ],
                "description": "包含圖片的 Diary 建立請求"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "成功建立包含圖片的 diary",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "result": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "string"
                        },
                        "userId": {
                          "type": "string"
                        },
                        "name": {
                          "type": "string"
                        },
                        "brand": {
                          "type": "string"
                        },
                        "originalImgs": {
                          "type": [
                            "array",
                            "null"
                          ],
                          "items": {
                            "type": "string"
                          }
                        },
                        "stickerImg": {
                          "type": [
                            "string",
                            "null"
                          ]
                        },
                        "calories": {
                          "type": "number",
                          "default": 0
                        },
                        "protein": {
                          "type": "number",
                          "default": 0
                        },
                        "carbs": {
                          "type": "number",
                          "default": 0
                        },
                        "fat": {
                          "type": "number",
                          "default": 0
                        },
                        "healthAssessment": {
                          "type": "object",
                          "properties": {
                            "score": {
                              "type": "number"
                            },
                            "pros": {
                              "type": "array",
                              "items": {},
                              "default": []
                            },
                            "cons": {
                              "type": "array",
                              "items": {},
                              "default": []
                            }
                          },
                          "required": [
                            "score"
                          ]
                        },
                        "ingredients": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "name": {
                                "type": "string"
                              },
                              "calories": {
                                "type": "number",
                                "default": 0
                              },
                              "protein": {
                                "type": "number",
                                "default": 0
                              },
                              "carbs": {
                                "type": "number",
                                "default": 0
                              },
                              "fat": {
                                "type": "number",
                                "default": 0
                              },
                              "amountValue": {
                                "type": "number",
                                "default": 0
                              },
                              "amountUnit": {
                                "type": "string"
                              },
                              "status": {
                                "type": "string",
                                "enum": [
                                  "uploading",
                                  "analyzing",
                                  "done",
                                  "failed"
                                ],
                                "default": "done"
                              },
                              "imageUrl": {
                                "type": [
                                  "string",
                                  "null"
                                ]
                              }
                            },
                            "required": [
                              "name",
                              "amountUnit"
                            ]
                          }
                        },
                        "portions": {
                          "type": "number",
                          "default": 1
                        },
                        "sourceId": {
                          "type": [
                            "string",
                            "null"
                          ]
                        },
                        "source": {
                          "type": [
                            "string",
                            "null"
                          ]
                        },
                        "status": {
                          "type": "string",
                          "enum": [
                            "uploading",
                            "analyzing",
                            "done",
                            "failed"
                          ],
                          "default": "done"
                        },
                        "progress": {
                          "type": "number"
                        },
                        "error": {
                          "type": [
                            "string",
                            "null"
                          ]
                        },
                        "diaryDate": {},
                        "createdAt": {},
                        "updatedAt": {},
                        "isDeleted": {
                          "type": "boolean",
                          "default": false
                        },
                        "deletedAt": {}
                      },
                      "required": [
                        "id",
                        "name"
                      ]
                    },
                    "error": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "success"
                  ],
                  "description": "建立的 Diary 回應"
                }
              }
            }
          },
          "400": {
            "description": "請求參數錯誤或圖片處理失敗",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "default": false
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "code": {
                            "type": "number"
                          },
                          "message": {
                            "type": "string"
                          }
                        },
                        "required": [
                          "code",
                          "message"
                        ]
                      }
                    }
                  },
                  "required": [
                    "errors"
                  ]
                }
              }
            }
          },
          "401": {
            "description": "未授權 - 需要有效的 Firebase ID token",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "default": false
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "code": {
                            "type": "number"
                          },
                          "message": {
                            "type": "string"
                          }
                        },
                        "required": [
                          "code",
                          "message"
                        ]
                      }
                    }
                  },
                  "required": [
                    "errors"
                  ]
                }
              }
            }
          },
          "500": {
            "description": "伺服器錯誤或圖片上傳失敗",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "default": false
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "code": {
                            "type": "number"
                          },
                          "message": {
                            "type": "string"
                          }
                        },
                        "required": [
                          "code",
                          "message"
                        ]
                      }
                    }
                  },
                  "required": [
                    "errors"
                  ]
                }
              }
            }
          }
        }
      }
    },
    "/diaries/from-recipe": {
      "post": {
        "tags": [
          "Diaries"
        ],
        "summary": "從食譜/食物條目建立新 diary",
        "description": "建立新的 diary 項目，資料來源為食譜或食物條目",
        "operationId": "createDiaryFromRecipe",
        "security": [
          {
            "Bearer": []
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "id": {
                    "type": "string"
                  },
                  "name": {
                    "type": "string"
                  },
                  "brand": {
                    "type": "string"
                  },
                  "originalImgs": {
                    "type": [
                      "array",
                      "null"
                    ],
                    "items": {
                      "type": "string"
                    }
                  },
                  "stickerImg": {
                    "type": [
                      "string",
                      "null"
                    ]
                  },
                  "calories": {
                    "type": "number",
                    "default": 0
                  },
                  "protein": {
                    "type": "number",
                    "default": 0
                  },
                  "carbs": {
                    "type": "number",
                    "default": 0
                  },
                  "fat": {
                    "type": "number",
                    "default": 0
                  },
                  "healthAssessment": {
                    "type": "object",
                    "properties": {
                      "score": {
                        "type": "number"
                      },
                      "pros": {
                        "type": "array",
                        "items": {},
                        "default": []
                      },
                      "cons": {
                        "type": "array",
                        "items": {},
                        "default": []
                      }
                    },
                    "required": [
                      "score"
                    ]
                  },
                  "ingredients": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "name": {
                          "type": "string"
                        },
                        "calories": {
                          "type": "number",
                          "default": 0
                        },
                        "protein": {
                          "type": "number",
                          "default": 0
                        },
                        "carbs": {
                          "type": "number",
                          "default": 0
                        },
                        "fat": {
                          "type": "number",
                          "default": 0
                        },
                        "amountValue": {
                          "type": "number",
                          "default": 0
                        },
                        "amountUnit": {
                          "type": "string"
                        },
                        "status": {
                          "type": "string",
                          "enum": [
                            "uploading",
                            "analyzing",
                            "done",
                            "failed"
                          ],
                          "default": "done"
                        },
                        "imageUrl": {
                          "type": [
                            "string",
                            "null"
                          ]
                        }
                      },
                      "required": [
                        "name",
                        "amountUnit"
                      ]
                    }
                  },
                  "portions": {
                    "type": "number",
                    "default": 1
                  },
                  "sourceId": {
                    "type": [
                      "string",
                      "null"
                    ]
                  },
                  "source": {
                    "type": [
                      "string",
                      "null"
                    ]
                  },
                  "status": {
                    "type": "string",
                    "enum": [
                      "uploading",
                      "analyzing",
                      "done",
                      "failed"
                    ],
                    "default": "done"
                  },
                  "progress": {
                    "type": "number"
                  },
                  "error": {
                    "type": [
                      "string",
                      "null"
                    ]
                  },
                  "diaryDate": {},
                  "isDeleted": {
                    "type": "boolean",
                    "default": false
                  },
                  "deletedAt": {}
                },
                "required": [
                  "id",
                  "name"
                ],
                "description": "完整的 Diary 資料"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "成功建立 diary",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "result": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "string"
                        },
                        "userId": {
                          "type": "string"
                        },
                        "name": {
                          "type": "string"
                        },
                        "brand": {
                          "type": "string"
                        },
                        "originalImgs": {
                          "type": [
                            "array",
                            "null"
                          ],
                          "items": {
                            "type": "string"
                          }
                        },
                        "stickerImg": {
                          "type": [
                            "string",
                            "null"
                          ]
                        },
                        "calories": {
                          "type": "number",
                          "default": 0
                        },
                        "protein": {
                          "type": "number",
                          "default": 0
                        },
                        "carbs": {
                          "type": "number",
                          "default": 0
                        },
                        "fat": {
                          "type": "number",
                          "default": 0
                        },
                        "healthAssessment": {
                          "type": "object",
                          "properties": {
                            "score": {
                              "type": "number"
                            },
                            "pros": {
                              "type": "array",
                              "items": {},
                              "default": []
                            },
                            "cons": {
                              "type": "array",
                              "items": {},
                              "default": []
                            }
                          },
                          "required": [
                            "score"
                          ]
                        },
                        "ingredients": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "name": {
                                "type": "string"
                              },
                              "calories": {
                                "type": "number",
                                "default": 0
                              },
                              "protein": {
                                "type": "number",
                                "default": 0
                              },
                              "carbs": {
                                "type": "number",
                                "default": 0
                              },
                              "fat": {
                                "type": "number",
                                "default": 0
                              },
                              "amountValue": {
                                "type": "number",
                                "default": 0
                              },
                              "amountUnit": {
                                "type": "string"
                              },
                              "status": {
                                "type": "string",
                                "enum": [
                                  "uploading",
                                  "analyzing",
                                  "done",
                                  "failed"
                                ],
                                "default": "done"
                              },
                              "imageUrl": {
                                "type": [
                                  "string",
                                  "null"
                                ]
                              }
                            },
                            "required": [
                              "name",
                              "amountUnit"
                            ]
                          }
                        },
                        "portions": {
                          "type": "number",
                          "default": 1
                        },
                        "sourceId": {
                          "type": [
                            "string",
                            "null"
                          ]
                        },
                        "source": {
                          "type": [
                            "string",
                            "null"
                          ]
                        },
                        "status": {
                          "type": "string",
                          "enum": [
                            "uploading",
                            "analyzing",
                            "done",
                            "failed"
                          ],
                          "default": "done"
                        },
                        "progress": {
                          "type": "number"
                        },
                        "error": {
                          "type": [
                            "string",
                            "null"
                          ]
                        },
                        "diaryDate": {},
                        "createdAt": {},
                        "updatedAt": {},
                        "isDeleted": {
                          "type": "boolean",
                          "default": false
                        },
                        "deletedAt": {}
                      },
                      "required": [
                        "id",
                        "name"
                      ]
                    },
                    "error": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "success"
                  ],
                  "description": "建立的 Diary 回應"
                }
              }
            }
          },
          "400": {
            "description": "請求參數錯誤",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "default": false
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "code": {
                            "type": "number"
                          },
                          "message": {
                            "type": "string"
                          }
                        },
                        "required": [
                          "code",
                          "message"
                        ]
                      }
                    }
                  },
                  "required": [
                    "errors"
                  ]
                }
              }
            }
          },
          "401": {
            "description": "未授權 - 需要有效的 Firebase ID token",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "default": false
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "code": {
                            "type": "number"
                          },
                          "message": {
                            "type": "string"
                          }
                        },
                        "required": [
                          "code",
                          "message"
                        ]
                      }
                    }
                  },
                  "required": [
                    "errors"
                  ]
                }
              }
            }
          },
          "500": {
            "description": "伺服器錯誤",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "default": false
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "code": {
                            "type": "number"
                          },
                          "message": {
                            "type": "string"
                          }
                        },
                        "required": [
                          "code",
                          "message"
                        ]
                      }
                    }
                  },
                  "required": [
                    "errors"
                  ]
                }
              }
            }
          }
        }
      }
    },
    "/diaries/{id}": {
      "put": {
        "tags": [
          "Diaries"
        ],
        "summary": "更新現有的 diary",
        "description": "更新指定 ID 的 diary 項目，自動設定 updatedAt 時間戳",
        "operationId": "updateDiary",
        "security": [
          {
            "Bearer": []
          }
        ],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "description": "要更新的 Diary ID"
            },
            "required": true,
            "description": "要更新的 Diary ID",
            "name": "id",
            "in": "path"
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "id": {
                    "type": "string"
                  },
                  "userId": {
                    "type": "string"
                  },
                  "name": {
                    "type": "string"
                  },
                  "brand": {
                    "type": "string"
                  },
                  "originalImgs": {
                    "type": [
                      "array",
                      "null"
                    ],
                    "items": {
                      "type": "string"
                    }
                  },
                  "stickerImg": {
                    "type": [
                      "string",
                      "null"
                    ]
                  },
                  "calories": {
                    "type": "number",
                    "default": 0
                  },
                  "protein": {
                    "type": "number",
                    "default": 0
                  },
                  "carbs": {
                    "type": "number",
                    "default": 0
                  },
                  "fat": {
                    "type": "number",
                    "default": 0
                  },
                  "healthAssessment": {
                    "type": "object",
                    "properties": {
                      "score": {
                        "type": "number"
                      },
                      "pros": {
                        "type": "array",
                        "items": {},
                        "default": []
                      },
                      "cons": {
                        "type": "array",
                        "items": {},
                        "default": []
                      }
                    },
                    "required": [
                      "score"
                    ]
                  },
                  "ingredients": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "name": {
                          "type": "string"
                        },
                        "calories": {
                          "type": "number",
                          "default": 0
                        },
                        "protein": {
                          "type": "number",
                          "default": 0
                        },
                        "carbs": {
                          "type": "number",
                          "default": 0
                        },
                        "fat": {
                          "type": "number",
                          "default": 0
                        },
                        "amountValue": {
                          "type": "number",
                          "default": 0
                        },
                        "amountUnit": {
                          "type": "string"
                        },
                        "status": {
                          "type": "string",
                          "enum": [
                            "uploading",
                            "analyzing",
                            "done",
                            "failed"
                          ],
                          "default": "done"
                        },
                        "imageUrl": {
                          "type": [
                            "string",
                            "null"
                          ]
                        }
                      },
                      "required": [
                        "name",
                        "amountUnit"
                      ]
                    }
                  },
                  "portions": {
                    "type": "number",
                    "default": 1
                  },
                  "sourceId": {
                    "type": [
                      "string",
                      "null"
                    ]
                  },
                  "source": {
                    "type": [
                      "string",
                      "null"
                    ]
                  },
                  "status": {
                    "type": "string",
                    "enum": [
                      "uploading",
                      "analyzing",
                      "done",
                      "failed"
                    ],
                    "default": "done"
                  },
                  "progress": {
                    "type": "number"
                  },
                  "error": {
                    "type": [
                      "string",
                      "null"
                    ]
                  },
                  "diaryDate": {},
                  "createdAt": {},
                  "updatedAt": {},
                  "isDeleted": {
                    "type": "boolean",
                    "default": false
                  },
                  "deletedAt": {}
                },
                "description": "更新 Diary 的資料"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "成功更新 diary",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "result": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "string"
                        },
                        "userId": {
                          "type": "string"
                        },
                        "name": {
                          "type": "string"
                        },
                        "brand": {
                          "type": "string"
                        },
                        "originalImgs": {
                          "type": [
                            "array",
                            "null"
                          ],
                          "items": {
                            "type": "string"
                          }
                        },
                        "stickerImg": {
                          "type": [
                            "string",
                            "null"
                          ]
                        },
                        "calories": {
                          "type": "number",
                          "default": 0
                        },
                        "protein": {
                          "type": "number",
                          "default": 0
                        },
                        "carbs": {
                          "type": "number",
                          "default": 0
                        },
                        "fat": {
                          "type": "number",
                          "default": 0
                        },
                        "healthAssessment": {
                          "type": "object",
                          "properties": {
                            "score": {
                              "type": "number"
                            },
                            "pros": {
                              "type": "array",
                              "items": {},
                              "default": []
                            },
                            "cons": {
                              "type": "array",
                              "items": {},
                              "default": []
                            }
                          },
                          "required": [
                            "score"
                          ]
                        },
                        "ingredients": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "name": {
                                "type": "string"
                              },
                              "calories": {
                                "type": "number",
                                "default": 0
                              },
                              "protein": {
                                "type": "number",
                                "default": 0
                              },
                              "carbs": {
                                "type": "number",
                                "default": 0
                              },
                              "fat": {
                                "type": "number",
                                "default": 0
                              },
                              "amountValue": {
                                "type": "number",
                                "default": 0
                              },
                              "amountUnit": {
                                "type": "string"
                              },
                              "status": {
                                "type": "string",
                                "enum": [
                                  "uploading",
                                  "analyzing",
                                  "done",
                                  "failed"
                                ],
                                "default": "done"
                              },
                              "imageUrl": {
                                "type": [
                                  "string",
                                  "null"
                                ]
                              }
                            },
                            "required": [
                              "name",
                              "amountUnit"
                            ]
                          }
                        },
                        "portions": {
                          "type": "number",
                          "default": 1
                        },
                        "sourceId": {
                          "type": [
                            "string",
                            "null"
                          ]
                        },
                        "source": {
                          "type": [
                            "string",
                            "null"
                          ]
                        },
                        "status": {
                          "type": "string",
                          "enum": [
                            "uploading",
                            "analyzing",
                            "done",
                            "failed"
                          ],
                          "default": "done"
                        },
                        "progress": {
                          "type": "number"
                        },
                        "error": {
                          "type": [
                            "string",
                            "null"
                          ]
                        },
                        "diaryDate": {},
                        "createdAt": {},
                        "updatedAt": {},
                        "isDeleted": {
                          "type": "boolean",
                          "default": false
                        },
                        "deletedAt": {}
                      },
                      "required": [
                        "id",
                        "name"
                      ]
                    },
                    "error": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "success"
                  ],
                  "description": "更新後的 Diary 回應"
                }
              }
            }
          },
          "400": {
            "description": "請求參數錯誤",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "default": false
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "code": {
                            "type": "number"
                          },
                          "message": {
                            "type": "string"
                          }
                        },
                        "required": [
                          "code",
                          "message"
                        ]
                      }
                    }
                  },
                  "required": [
                    "errors"
                  ]
                }
              }
            }
          },
          "401": {
            "description": "未授權 - 需要有效的 Firebase ID token",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "default": false
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "code": {
                            "type": "number"
                          },
                          "message": {
                            "type": "string"
                          }
                        },
                        "required": [
                          "code",
                          "message"
                        ]
                      }
                    }
                  },
                  "required": [
                    "errors"
                  ]
                }
              }
            }
          },
          "404": {
            "description": "找不到指定的 diary 或無權限存取",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "default": false
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "code": {
                            "type": "number"
                          },
                          "message": {
                            "type": "string"
                          }
                        },
                        "required": [
                          "code",
                          "message"
                        ]
                      }
                    }
                  },
                  "required": [
                    "errors"
                  ]
                }
              }
            }
          },
          "500": {
            "description": "伺服器錯誤",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "default": false
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "code": {
                            "type": "number"
                          },
                          "message": {
                            "type": "string"
                          }
                        },
                        "required": [
                          "code",
                          "message"
                        ]
                      }
                    }
                  },
                  "required": [
                    "errors"
                  ]
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Diaries"
        ],
        "summary": "刪除 diary（軟刪除）",
        "description": "軟刪除指定 ID 的 diary 項目，設定 isDeleted 為 true 並記錄 deletedAt 時間戳",
        "operationId": "deleteDiary",
        "security": [
          {
            "Bearer": []
          }
        ],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "description": "要刪除的 Diary ID"
            },
            "required": true,
            "description": "要刪除的 Diary ID",
            "name": "id",
            "in": "path"
          }
        ],
        "responses": {
          "200": {
            "description": "成功刪除 diary",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "default": true
                    },
                    "message": {
                      "type": "string"
                    }
                  },
                  "description": "刪除成功回應"
                }
              }
            }
          },
          "400": {
            "description": "請求參數錯誤",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "default": false
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "code": {
                            "type": "number"
                          },
                          "message": {
                            "type": "string"
                          }
                        },
                        "required": [
                          "code",
                          "message"
                        ]
                      }
                    }
                  },
                  "required": [
                    "errors"
                  ]
                }
              }
            }
          },
          "401": {
            "description": "未授權 - 需要有效的 Firebase ID token",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "default": false
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "code": {
                            "type": "number"
                          },
                          "message": {
                            "type": "string"
                          }
                        },
                        "required": [
                          "code",
                          "message"
                        ]
                      }
                    }
                  },
                  "required": [
                    "errors"
                  ]
                }
              }
            }
          },
          "404": {
            "description": "找不到指定的 diary 或無權限存取",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "default": false
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "code": {
                            "type": "number"
                          },
                          "message": {
                            "type": "string"
                          }
                        },
                        "required": [
                          "code",
                          "message"
                        ]
                      }
                    }
                  },
                  "required": [
                    "errors"
                  ]
                }
              }
            }
          },
          "500": {
            "description": "伺服器錯誤",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "default": false
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "code": {
                            "type": "number"
                          },
                          "message": {
                            "type": "string"
                          }
                        },
                        "required": [
                          "code",
                          "message"
                        ]
                      }
                    }
                  },
                  "required": [
                    "errors"
                  ]
                }
              }
            }
          }
        }
      }
    },
    "/daily-workouts": {
      "get": {
        "tags": [
          "Daily Workouts"
        ],
        "summary": "獲取使用者的運動列表",
        "description": "獲取已驗證使用者的運動列表，支援可選的日期過濾",
        "operationId": "getWorkouts",
        "security": [
          {
            "Bearer": []
          }
        ],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "description": "過濾此日期之後的運動記錄（包含此日期）"
            },
            "required": false,
            "description": "過濾此日期之後的運動記錄（包含此日期）",
            "name": "date",
            "in": "query"
          }
        ],
        "responses": {
          "200": {
            "description": "成功獲取運動列表",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "result": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "diaryDate": {},
                          "totalCaloriesBurned": {
                            "type": "number",
                            "default": 0
                          },
                          "manualWorkouts": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "properties": {
                                "id": {
                                  "type": "string"
                                },
                                "type": {
                                  "type": "string"
                                },
                                "caloriesBurned": {
                                  "type": "number",
                                  "default": 0
                                },
                                "duration": {
                                  "type": [
                                    "number",
                                    "null"
                                  ],
                                  "default": 0
                                },
                                "distance": {
                                  "type": [
                                    "number",
                                    "null"
                                  ]
                                },
                                "createdAt": {},
                                "status": {
                                  "type": "string",
                                  "enum": [
                                    "uploading",
                                    "analyzing",
                                    "done",
                                    "failed"
                                  ],
                                  "default": "done"
                                },
                                "progress": {
                                  "type": "number",
                                  "default": 0
                                }
                              },
                              "required": [
                                "id",
                                "type"
                              ]
                            },
                            "default": []
                          },
                          "healthkitWorkouts": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "properties": {
                                "id": {
                                  "type": "string"
                                },
                                "type": {
                                  "type": "string"
                                },
                                "caloriesBurned": {
                                  "type": "number",
                                  "default": 0
                                },
                                "duration": {
                                  "type": [
                                    "number",
                                    "null"
                                  ],
                                  "default": 0
                                },
                                "distance": {
                                  "type": [
                                    "number",
                                    "null"
                                  ]
                                },
                                "createdAt": {},
                                "status": {
                                  "type": "string",
                                  "enum": [
                                    "uploading",
                                    "analyzing",
                                    "done",
                                    "failed"
                                  ],
                                  "default": "done"
                                },
                                "progress": {
                                  "type": "number",
                                  "default": 0
                                }
                              },
                              "required": [
                                "id",
                                "type"
                              ]
                            }
                          },
                          "steps": {
                            "type": "number"
                          },
                          "platform": {
                            "type": "string"
                          },
                          "createdAt": {},
                          "updatedAt": {}
                        },
                        "required": [
                          "platform"
                        ]
                      }
                    },
                    "error": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "success"
                  ],
                  "description": "運動列表回應"
                }
              }
            }
          },
          "400": {
            "description": "請求參數錯誤",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "default": false
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "code": {
                            "type": "number"
                          },
                          "message": {
                            "type": "string"
                          }
                        },
                        "required": [
                          "code",
                          "message"
                        ]
                      }
                    }
                  },
                  "required": [
                    "errors"
                  ]
                }
              }
            }
          },
          "401": {
            "description": "未授權 - 需要有效的 Firebase ID token",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "default": false
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "code": {
                            "type": "number"
                          },
                          "message": {
                            "type": "string"
                          }
                        },
                        "required": [
                          "code",
                          "message"
                        ]
                      }
                    }
                  },
                  "required": [
                    "errors"
                  ]
                }
              }
            }
          },
          "500": {
            "description": "伺服器錯誤",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "default": false
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "code": {
                            "type": "number"
                          },
                          "message": {
                            "type": "string"
                          }
                        },
                        "required": [
                          "code",
                          "message"
                        ]
                      }
                    }
                  },
                  "required": [
                    "errors"
                  ]
                }
              }
            }
          }
        }
      }
    },
    "/daily-workouts/{date}": {
      "get": {
        "tags": [
          "Daily Workouts"
        ],
        "summary": "獲取指定日期的運動記錄",
        "description": "獲取已驗證使用者在指定日期的運動記錄",
        "operationId": "getWorkoutByDate",
        "security": [
          {
            "Bearer": []
          }
        ],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "description": "日期 (YYYY-MM-DD 格式)"
            },
            "required": true,
            "description": "日期 (YYYY-MM-DD 格式)",
            "name": "date",
            "in": "path"
          }
        ],
        "responses": {
          "200": {
            "description": "成功獲取運動記錄",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "result": {
                      "type": "object",
                      "properties": {
                        "diaryDate": {},
                        "totalCaloriesBurned": {
                          "type": "number",
                          "default": 0
                        },
                        "manualWorkouts": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "string"
                              },
                              "type": {
                                "type": "string"
                              },
                              "caloriesBurned": {
                                "type": "number",
                                "default": 0
                              },
                              "duration": {
                                "type": [
                                  "number",
                                  "null"
                                ],
                                "default": 0
                              },
                              "distance": {
                                "type": [
                                  "number",
                                  "null"
                                ]
                              },
                              "createdAt": {},
                              "status": {
                                "type": "string",
                                "enum": [
                                  "uploading",
                                  "analyzing",
                                  "done",
                                  "failed"
                                ],
                                "default": "done"
                              },
                              "progress": {
                                "type": "number",
                                "default": 0
                              }
                            },
                            "required": [
                              "id",
                              "type"
                            ]
                          },
                          "default": []
                        },
                        "healthkitWorkouts": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "string"
                              },
                              "type": {
                                "type": "string"
                              },
                              "caloriesBurned": {
                                "type": "number",
                                "default": 0
                              },
                              "duration": {
                                "type": [
                                  "number",
                                  "null"
                                ],
                                "default": 0
                              },
                              "distance": {
                                "type": [
                                  "number",
                                  "null"
                                ]
                              },
                              "createdAt": {},
                              "status": {
                                "type": "string",
                                "enum": [
                                  "uploading",
                                  "analyzing",
                                  "done",
                                  "failed"
                                ],
                                "default": "done"
                              },
                              "progress": {
                                "type": "number",
                                "default": 0
                              }
                            },
                            "required": [
                              "id",
                              "type"
                            ]
                          }
                        },
                        "steps": {
                          "type": "number"
                        },
                        "platform": {
                          "type": "string"
                        },
                        "createdAt": {},
                        "updatedAt": {}
                      },
                      "required": [
                        "platform"
                      ]
                    },
                    "error": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "success"
                  ],
                  "description": "運動記錄回應"
                }
              }
            }
          },
          "400": {
            "description": "請求參數錯誤",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "default": false
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "code": {
                            "type": "number"
                          },
                          "message": {
                            "type": "string"
                          }
                        },
                        "required": [
                          "code",
                          "message"
                        ]
                      }
                    }
                  },
                  "required": [
                    "errors"
                  ]
                }
              }
            }
          },
          "401": {
            "description": "未授權 - 需要有效的 Firebase ID token",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "default": false
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "code": {
                            "type": "number"
                          },
                          "message": {
                            "type": "string"
                          }
                        },
                        "required": [
                          "code",
                          "message"
                        ]
                      }
                    }
                  },
                  "required": [
                    "errors"
                  ]
                }
              }
            }
          },
          "404": {
            "description": "找不到指定日期的運動記錄",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "default": false
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "code": {
                            "type": "number"
                          },
                          "message": {
                            "type": "string"
                          }
                        },
                        "required": [
                          "code",
                          "message"
                        ]
                      }
                    }
                  },
                  "required": [
                    "errors"
                  ]
                }
              }
            }
          },
          "500": {
            "description": "伺服器錯誤",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "default": false
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "code": {
                            "type": "number"
                          },
                          "message": {
                            "type": "string"
                          }
                        },
                        "required": [
                          "code",
                          "message"
                        ]
                      }
                    }
                  },
                  "required": [
                    "errors"
                  ]
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "Daily Workouts"
        ],
        "summary": "更新完整的每日運動記錄",
        "description": "更新指定日期的完整運動記錄，支援 merge 模式",
        "operationId": "updateDailyWorkout",
        "security": [
          {
            "Bearer": []
          }
        ],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "description": "日期 (YYYY-MM-DD 格式)"
            },
            "required": true,
            "description": "日期 (YYYY-MM-DD 格式)",
            "name": "date",
            "in": "path"
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "diaryDate": {},
                  "totalCaloriesBurned": {
                    "type": "number",
                    "minimum": 0,
                    "default": 0
                  },
                  "manualWorkouts": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "string"
                        },
                        "type": {
                          "type": "string"
                        },
                        "caloriesBurned": {
                          "type": "number",
                          "default": 0
                        },
                        "duration": {
                          "type": [
                            "number",
                            "null"
                          ],
                          "default": 0
                        },
                        "distance": {
                          "type": [
                            "number",
                            "null"
                          ]
                        },
                        "createdAt": {},
                        "status": {
                          "type": "string",
                          "enum": [
                            "uploading",
                            "analyzing",
                            "done",
                            "failed"
                          ],
                          "default": "done"
                        },
                        "progress": {
                          "type": "number",
                          "default": 0
                        }
                      },
                      "required": [
                        "id",
                        "type"
                      ]
                    },
                    "default": []
                  },
                  "healthkitWorkouts": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "string"
                        },
                        "type": {
                          "type": "string"
                        },
                        "caloriesBurned": {
                          "type": "number",
                          "default": 0
                        },
                        "duration": {
                          "type": [
                            "number",
                            "null"
                          ],
                          "default": 0
                        },
                        "distance": {
                          "type": [
                            "number",
                            "null"
                          ]
                        },
                        "createdAt": {},
                        "status": {
                          "type": "string",
                          "enum": [
                            "uploading",
                            "analyzing",
                            "done",
                            "failed"
                          ],
                          "default": "done"
                        },
                        "progress": {
                          "type": "number",
                          "default": 0
                        }
                      },
                      "required": [
                        "id",
                        "type"
                      ]
                    }
                  },
                  "steps": {
                    "type": "number",
                    "minimum": 0
                  },
                  "platform": {
                    "type": "string",
                    "minLength": 1
                  }
                },
                "required": [
                  "platform"
                ],
                "description": "完整的運動記錄資料"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "成功更新運動記錄",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "result": {
                      "type": "object",
                      "properties": {
                        "diaryDate": {},
                        "totalCaloriesBurned": {
                          "type": "number",
                          "default": 0
                        },
                        "manualWorkouts": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "string"
                              },
                              "type": {
                                "type": "string"
                              },
                              "caloriesBurned": {
                                "type": "number",
                                "default": 0
                              },
                              "duration": {
                                "type": [
                                  "number",
                                  "null"
                                ],
                                "default": 0
                              },
                              "distance": {
                                "type": [
                                  "number",
                                  "null"
                                ]
                              },
                              "createdAt": {},
                              "status": {
                                "type": "string",
                                "enum": [
                                  "uploading",
                                  "analyzing",
                                  "done",
                                  "failed"
                                ],
                                "default": "done"
                              },
                              "progress": {
                                "type": "number",
                                "default": 0
                              }
                            },
                            "required": [
                              "id",
                              "type"
                            ]
                          },
                          "default": []
                        },
                        "healthkitWorkouts": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "string"
                              },
                              "type": {
                                "type": "string"
                              },
                              "caloriesBurned": {
                                "type": "number",
                                "default": 0
                              },
                              "duration": {
                                "type": [
                                  "number",
                                  "null"
                                ],
                                "default": 0
                              },
                              "distance": {
                                "type": [
                                  "number",
                                  "null"
                                ]
                              },
                              "createdAt": {},
                              "status": {
                                "type": "string",
                                "enum": [
                                  "uploading",
                                  "analyzing",
                                  "done",
                                  "failed"
                                ],
                                "default": "done"
                              },
                              "progress": {
                                "type": "number",
                                "default": 0
                              }
                            },
                            "required": [
                              "id",
                              "type"
                            ]
                          }
                        },
                        "steps": {
                          "type": "number"
                        },
                        "platform": {
                          "type": "string"
                        },
                        "createdAt": {},
                        "updatedAt": {}
                      },
                      "required": [
                        "platform"
                      ]
                    },
                    "error": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "success"
                  ],
                  "description": "更新運動記錄回應"
                }
              }
            }
          },
          "400": {
            "description": "請求參數錯誤",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "default": false
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "code": {
                            "type": "number"
                          },
                          "message": {
                            "type": "string"
                          }
                        },
                        "required": [
                          "code",
                          "message"
                        ]
                      }
                    }
                  },
                  "required": [
                    "errors"
                  ]
                }
              }
            }
          },
          "401": {
            "description": "未授權 - 需要有效的 Firebase ID token",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "default": false
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "code": {
                            "type": "number"
                          },
                          "message": {
                            "type": "string"
                          }
                        },
                        "required": [
                          "code",
                          "message"
                        ]
                      }
                    }
                  },
                  "required": [
                    "errors"
                  ]
                }
              }
            }
          },
          "500": {
            "description": "伺服器錯誤",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "default": false
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "code": {
                            "type": "number"
                          },
                          "message": {
                            "type": "string"
                          }
                        },
                        "required": [
                          "code",
                          "message"
                        ]
                      }
                    }
                  },
                  "required": [
                    "errors"
                  ]
                }
              }
            }
          }
        }
      }
    },
    "/daily-workouts/{date}/exercises": {
      "post": {
        "tags": [
          "Daily Workouts"
        ],
        "summary": "新增手動運動",
        "description": "新增手動運動到指定日期的運動記錄",
        "operationId": "addExercise",
        "security": [
          {
            "Bearer": []
          }
        ],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "description": "日期 (YYYY-MM-DD 格式)"
            },
            "required": true,
            "description": "日期 (YYYY-MM-DD 格式)",
            "name": "date",
            "in": "path"
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "id": {
                    "type": "string"
                  },
                  "type": {
                    "type": "string",
                    "minLength": 1
                  },
                  "caloriesBurned": {
                    "type": "number",
                    "minimum": 0,
                    "default": 0
                  },
                  "duration": {
                    "type": [
                      "number",
                      "null"
                    ],
                    "minimum": 0,
                    "default": 0
                  },
                  "distance": {
                    "type": [
                      "number",
                      "null"
                    ],
                    "minimum": 0
                  },
                  "progress": {
                    "type": "number",
                    "minimum": 0,
                    "maximum": 100,
                    "default": 0
                  }
                },
                "required": [
                  "id",
                  "type"
                ],
                "description": "運動資料"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "成功新增運動",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "result": {
                      "type": "object",
                      "properties": {
                        "diaryDate": {},
                        "totalCaloriesBurned": {
                          "type": "number",
                          "default": 0
                        },
                        "manualWorkouts": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "string"
                              },
                              "type": {
                                "type": "string"
                              },
                              "caloriesBurned": {
                                "type": "number",
                                "default": 0
                              },
                              "duration": {
                                "type": [
                                  "number",
                                  "null"
                                ],
                                "default": 0
                              },
                              "distance": {
                                "type": [
                                  "number",
                                  "null"
                                ]
                              },
                              "createdAt": {},
                              "status": {
                                "type": "string",
                                "enum": [
                                  "uploading",
                                  "analyzing",
                                  "done",
                                  "failed"
                                ],
                                "default": "done"
                              },
                              "progress": {
                                "type": "number",
                                "default": 0
                              }
                            },
                            "required": [
                              "id",
                              "type"
                            ]
                          },
                          "default": []
                        },
                        "healthkitWorkouts": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "string"
                              },
                              "type": {
                                "type": "string"
                              },
                              "caloriesBurned": {
                                "type": "number",
                                "default": 0
                              },
                              "duration": {
                                "type": [
                                  "number",
                                  "null"
                                ],
                                "default": 0
                              },
                              "distance": {
                                "type": [
                                  "number",
                                  "null"
                                ]
                              },
                              "createdAt": {},
                              "status": {
                                "type": "string",
                                "enum": [
                                  "uploading",
                                  "analyzing",
                                  "done",
                                  "failed"
                                ],
                                "default": "done"
                              },
                              "progress": {
                                "type": "number",
                                "default": 0
                              }
                            },
                            "required": [
                              "id",
                              "type"
                            ]
                          }
                        },
                        "steps": {
                          "type": "number"
                        },
                        "platform": {
                          "type": "string"
                        },
                        "createdAt": {},
                        "updatedAt": {}
                      },
                      "required": [
                        "platform"
                      ]
                    },
                    "error": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "success"
                  ],
                  "description": "新增運動回應"
                }
              }
            }
          },
          "400": {
            "description": "請求參數錯誤",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "default": false
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "code": {
                            "type": "number"
                          },
                          "message": {
                            "type": "string"
                          }
                        },
                        "required": [
                          "code",
                          "message"
                        ]
                      }
                    }
                  },
                  "required": [
                    "errors"
                  ]
                }
              }
            }
          },
          "401": {
            "description": "未授權 - 需要有效的 Firebase ID token",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "default": false
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "code": {
                            "type": "number"
                          },
                          "message": {
                            "type": "string"
                          }
                        },
                        "required": [
                          "code",
                          "message"
                        ]
                      }
                    }
                  },
                  "required": [
                    "errors"
                  ]
                }
              }
            }
          },
          "500": {
            "description": "伺服器錯誤",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "default": false
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "code": {
                            "type": "number"
                          },
                          "message": {
                            "type": "string"
                          }
                        },
                        "required": [
                          "code",
                          "message"
                        ]
                      }
                    }
                  },
                  "required": [
                    "errors"
                  ]
                }
              }
            }
          }
        }
      }
    },
    "/daily-workouts/{date}/exercises/{exerciseId}": {
      "delete": {
        "tags": [
          "Daily Workouts"
        ],
        "summary": "刪除運動",
        "description": "刪除指定日期的指定運動記錄",
        "operationId": "deleteExercise",
        "security": [
          {
            "Bearer": []
          }
        ],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "description": "日期 (YYYY-MM-DD 格式)"
            },
            "required": true,
            "description": "日期 (YYYY-MM-DD 格式)",
            "name": "date",
            "in": "path"
          },
          {
            "schema": {
              "type": "string",
              "description": "運動 ID"
            },
            "required": true,
            "description": "運動 ID",
            "name": "exerciseId",
            "in": "path"
          }
        ],
        "responses": {
          "200": {
            "description": "成功刪除運動",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "error": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "success"
                  ],
                  "description": "刪除運動回應"
                }
              }
            }
          },
          "400": {
            "description": "請求參數錯誤",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "default": false
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "code": {
                            "type": "number"
                          },
                          "message": {
                            "type": "string"
                          }
                        },
                        "required": [
                          "code",
                          "message"
                        ]
                      }
                    }
                  },
                  "required": [
                    "errors"
                  ]
                }
              }
            }
          },
          "401": {
            "description": "未授權 - 需要有效的 Firebase ID token",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "default": false
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "code": {
                            "type": "number"
                          },
                          "message": {
                            "type": "string"
                          }
                        },
                        "required": [
                          "code",
                          "message"
                        ]
                      }
                    }
                  },
                  "required": [
                    "errors"
                  ]
                }
              }
            }
          },
          "404": {
            "description": "找不到要刪除的運動記錄",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "default": false
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "code": {
                            "type": "number"
                          },
                          "message": {
                            "type": "string"
                          }
                        },
                        "required": [
                          "code",
                          "message"
                        ]
                      }
                    }
                  },
                  "required": [
                    "errors"
                  ]
                }
              }
            }
          },
          "500": {
            "description": "伺服器錯誤",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "default": false
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "code": {
                            "type": "number"
                          },
                          "message": {
                            "type": "string"
                          }
                        },
                        "required": [
                          "code",
                          "message"
                        ]
                      }
                    }
                  },
                  "required": [
                    "errors"
                  ]
                }
              }
            }
          }
        }
      }
    },
    "/fav-foods": {
      "get": {
        "tags": [
          "FavFoods"
        ],
        "summary": "獲取使用者的收藏食物列表",
        "description": "獲取已驗證使用者的收藏食物列表，按建立時間降序排列",
        "operationId": "getFavFoods",
        "security": [
          {
            "Bearer": []
          }
        ],
        "responses": {
          "200": {
            "description": "成功獲取收藏食物列表",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "result": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "string"
                          },
                          "name": {
                            "type": "string"
                          },
                          "brand": {
                            "type": "string"
                          },
                          "originalImgs": {
                            "type": "array",
                            "items": {
                              "type": "string"
                            }
                          },
                          "stickerImg": {
                            "type": "string"
                          },
                          "calories": {
                            "type": "number"
                          },
                          "protein": {
                            "type": "number"
                          },
                          "carbs": {
                            "type": "number"
                          },
                          "fat": {
                            "type": "number"
                          },
                          "healthAssessment": {
                            "type": "object",
                            "properties": {
                              "score": {
                                "type": "number"
                              },
                              "pros": {
                                "type": "array",
                                "items": {},
                                "default": []
                              },
                              "cons": {
                                "type": "array",
                                "items": {},
                                "default": []
                              }
                            },
                            "required": [
                              "score"
                            ]
                          },
                          "ingredients": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "properties": {
                                "name": {
                                  "type": "string"
                                },
                                "calories": {
                                  "type": "number",
                                  "default": 0
                                },
                                "protein": {
                                  "type": "number",
                                  "default": 0
                                },
                                "carbs": {
                                  "type": "number",
                                  "default": 0
                                },
                                "fat": {
                                  "type": "number",
                                  "default": 0
                                },
                                "amountValue": {
                                  "type": "number",
                                  "default": 0
                                },
                                "amountUnit": {
                                  "type": "string"
                                },
                                "status": {
                                  "type": "string",
                                  "enum": [
                                    "uploading",
                                    "analyzing",
                                    "done",
                                    "failed"
                                  ],
                                  "default": "done"
                                },
                                "imageUrl": {
                                  "type": [
                                    "string",
                                    "null"
                                  ]
                                }
                              },
                              "required": [
                                "name",
                                "amountUnit"
                              ]
                            }
                          },
                          "portions": {
                            "type": "number"
                          },
                          "userId": {
                            "type": "string"
                          },
                          "isPublic": {
                            "type": "boolean",
                            "default": false
                          },
                          "version": {
                            "type": "number",
                            "default": 1
                          },
                          "importedCount": {
                            "type": "number",
                            "default": 0
                          },
                          "description": {
                            "type": "string"
                          },
                          "createdAt": {},
                          "updatedAt": {}
                        },
                        "required": [
                          "name",
                          "calories",
                          "protein",
                          "carbs",
                          "fat",
                          "portions",
                          "userId"
                        ]
                      }
                    },
                    "error": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "success"
                  ],
                  "description": "收藏食物列表回應"
                }
              }
            }
          },
          "401": {
            "description": "未授權 - 需要有效的 Firebase ID token",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "default": false
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "code": {
                            "type": "number"
                          },
                          "message": {
                            "type": "string"
                          }
                        },
                        "required": [
                          "code",
                          "message"
                        ]
                      }
                    }
                  },
                  "required": [
                    "errors"
                  ]
                }
              }
            }
          },
          "500": {
            "description": "伺服器錯誤",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "default": false
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "code": {
                            "type": "number"
                          },
                          "message": {
                            "type": "string"
                          }
                        },
                        "required": [
                          "code",
                          "message"
                        ]
                      }
                    }
                  },
                  "required": [
                    "errors"
                  ]
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "FavFoods"
        ],
        "summary": "從 Diary 創建收藏食物",
        "description": "將 Diary 加入收藏食物清單中，對應 Flutter addFoodEntry({required Diary diary}) 方法",
        "operationId": "createFavFoodFromDiary",
        "security": [
          {
            "Bearer": []
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "id": {
                    "type": "string"
                  },
                  "userId": {
                    "type": "string"
                  },
                  "name": {
                    "type": "string"
                  },
                  "brand": {
                    "type": "string"
                  },
                  "originalImgs": {
                    "type": [
                      "array",
                      "null"
                    ],
                    "items": {
                      "type": "string"
                    }
                  },
                  "stickerImg": {
                    "type": [
                      "string",
                      "null"
                    ]
                  },
                  "calories": {
                    "type": "number",
                    "default": 0
                  },
                  "protein": {
                    "type": "number",
                    "default": 0
                  },
                  "carbs": {
                    "type": "number",
                    "default": 0
                  },
                  "fat": {
                    "type": "number",
                    "default": 0
                  },
                  "healthAssessment": {
                    "type": "object",
                    "properties": {
                      "score": {
                        "type": "number"
                      },
                      "pros": {
                        "type": "array",
                        "items": {},
                        "default": []
                      },
                      "cons": {
                        "type": "array",
                        "items": {},
                        "default": []
                      }
                    },
                    "required": [
                      "score"
                    ]
                  },
                  "ingredients": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "name": {
                          "type": "string"
                        },
                        "calories": {
                          "type": "number",
                          "default": 0
                        },
                        "protein": {
                          "type": "number",
                          "default": 0
                        },
                        "carbs": {
                          "type": "number",
                          "default": 0
                        },
                        "fat": {
                          "type": "number",
                          "default": 0
                        },
                        "amountValue": {
                          "type": "number",
                          "default": 0
                        },
                        "amountUnit": {
                          "type": "string"
                        },
                        "status": {
                          "type": "string",
                          "enum": [
                            "uploading",
                            "analyzing",
                            "done",
                            "failed"
                          ],
                          "default": "done"
                        },
                        "imageUrl": {
                          "type": [
                            "string",
                            "null"
                          ]
                        }
                      },
                      "required": [
                        "name",
                        "amountUnit"
                      ]
                    }
                  },
                  "portions": {
                    "type": "number",
                    "default": 1
                  },
                  "sourceId": {
                    "type": [
                      "string",
                      "null"
                    ]
                  },
                  "source": {
                    "type": [
                      "string",
                      "null"
                    ]
                  },
                  "status": {
                    "type": "string",
                    "enum": [
                      "uploading",
                      "analyzing",
                      "done",
                      "failed"
                    ],
                    "default": "done"
                  },
                  "progress": {
                    "type": "number"
                  },
                  "error": {
                    "type": [
                      "string",
                      "null"
                    ]
                  },
                  "diaryDate": {},
                  "createdAt": {},
                  "updatedAt": {},
                  "isDeleted": {
                    "type": "boolean",
                    "default": false
                  },
                  "deletedAt": {}
                },
                "required": [
                  "id",
                  "name"
                ],
                "description": "Diary 資料對象，直接傳送 diary 對象本身，對應 Flutter addFoodEntry({required Diary diary}) 方法"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "成功創建收藏食物",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "result": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "string"
                        },
                        "name": {
                          "type": "string"
                        },
                        "brand": {
                          "type": "string"
                        },
                        "originalImgs": {
                          "type": "array",
                          "items": {
                            "type": "string"
                          }
                        },
                        "stickerImg": {
                          "type": "string"
                        },
                        "calories": {
                          "type": "number"
                        },
                        "protein": {
                          "type": "number"
                        },
                        "carbs": {
                          "type": "number"
                        },
                        "fat": {
                          "type": "number"
                        },
                        "healthAssessment": {
                          "type": "object",
                          "properties": {
                            "score": {
                              "type": "number"
                            },
                            "pros": {
                              "type": "array",
                              "items": {},
                              "default": []
                            },
                            "cons": {
                              "type": "array",
                              "items": {},
                              "default": []
                            }
                          },
                          "required": [
                            "score"
                          ]
                        },
                        "ingredients": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "name": {
                                "type": "string"
                              },
                              "calories": {
                                "type": "number",
                                "default": 0
                              },
                              "protein": {
                                "type": "number",
                                "default": 0
                              },
                              "carbs": {
                                "type": "number",
                                "default": 0
                              },
                              "fat": {
                                "type": "number",
                                "default": 0
                              },
                              "amountValue": {
                                "type": "number",
                                "default": 0
                              },
                              "amountUnit": {
                                "type": "string"
                              },
                              "status": {
                                "type": "string",
                                "enum": [
                                  "uploading",
                                  "analyzing",
                                  "done",
                                  "failed"
                                ],
                                "default": "done"
                              },
                              "imageUrl": {
                                "type": [
                                  "string",
                                  "null"
                                ]
                              }
                            },
                            "required": [
                              "name",
                              "amountUnit"
                            ]
                          }
                        },
                        "portions": {
                          "type": "number"
                        },
                        "userId": {
                          "type": "string"
                        },
                        "isPublic": {
                          "type": "boolean",
                          "default": false
                        },
                        "version": {
                          "type": "number",
                          "default": 1
                        },
                        "importedCount": {
                          "type": "number",
                          "default": 0
                        },
                        "description": {
                          "type": "string"
                        },
                        "createdAt": {},
                        "updatedAt": {}
                      },
                      "required": [
                        "name",
                        "calories",
                        "protein",
                        "carbs",
                        "fat",
                        "portions",
                        "userId"
                      ]
                    },
                    "error": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "success"
                  ],
                  "description": "創建的收藏食物回應"
                }
              }
            }
          },
          "400": {
            "description": "請求參數錯誤",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "default": false
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "code": {
                            "type": "number"
                          },
                          "message": {
                            "type": "string"
                          }
                        },
                        "required": [
                          "code",
                          "message"
                        ]
                      }
                    }
                  },
                  "required": [
                    "errors"
                  ]
                }
              }
            }
          },
          "401": {
            "description": "未授權 - 需要有效的 Firebase ID token",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "default": false
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "code": {
                            "type": "number"
                          },
                          "message": {
                            "type": "string"
                          }
                        },
                        "required": [
                          "code",
                          "message"
                        ]
                      }
                    }
                  },
                  "required": [
                    "errors"
                  ]
                }
              }
            }
          },
          "409": {
            "description": "衝突 - 食物已在收藏清單中",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "default": false
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "code": {
                            "type": "number"
                          },
                          "message": {
                            "type": "string"
                          }
                        },
                        "required": [
                          "code",
                          "message"
                        ]
                      }
                    }
                  },
                  "required": [
                    "errors"
                  ]
                }
              }
            }
          },
          "500": {
            "description": "伺服器錯誤",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "default": false
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "code": {
                            "type": "number"
                          },
                          "message": {
                            "type": "string"
                          }
                        },
                        "required": [
                          "code",
                          "message"
                        ]
                      }
                    }
                  },
                  "required": [
                    "errors"
                  ]
                }
              }
            }
          }
        }
      }
    },
    "/fav-foods/{id}": {
      "get": {
        "tags": [
          "FavFoods"
        ],
        "summary": "獲取單一收藏食物詳情",
        "description": "根據 ID 獲取特定的收藏食物詳情",
        "operationId": "getFavFood",
        "security": [
          {
            "Bearer": []
          }
        ],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "description": "收藏食物的 ID"
            },
            "required": true,
            "description": "收藏食物的 ID",
            "name": "id",
            "in": "path"
          }
        ],
        "responses": {
          "200": {
            "description": "成功獲取收藏食物詳情",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "result": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "string"
                        },
                        "name": {
                          "type": "string"
                        },
                        "brand": {
                          "type": "string"
                        },
                        "originalImgs": {
                          "type": "array",
                          "items": {
                            "type": "string"
                          }
                        },
                        "stickerImg": {
                          "type": "string"
                        },
                        "calories": {
                          "type": "number"
                        },
                        "protein": {
                          "type": "number"
                        },
                        "carbs": {
                          "type": "number"
                        },
                        "fat": {
                          "type": "number"
                        },
                        "healthAssessment": {
                          "type": "object",
                          "properties": {
                            "score": {
                              "type": "number"
                            },
                            "pros": {
                              "type": "array",
                              "items": {},
                              "default": []
                            },
                            "cons": {
                              "type": "array",
                              "items": {},
                              "default": []
                            }
                          },
                          "required": [
                            "score"
                          ]
                        },
                        "ingredients": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "name": {
                                "type": "string"
                              },
                              "calories": {
                                "type": "number",
                                "default": 0
                              },
                              "protein": {
                                "type": "number",
                                "default": 0
                              },
                              "carbs": {
                                "type": "number",
                                "default": 0
                              },
                              "fat": {
                                "type": "number",
                                "default": 0
                              },
                              "amountValue": {
                                "type": "number",
                                "default": 0
                              },
                              "amountUnit": {
                                "type": "string"
                              },
                              "status": {
                                "type": "string",
                                "enum": [
                                  "uploading",
                                  "analyzing",
                                  "done",
                                  "failed"
                                ],
                                "default": "done"
                              },
                              "imageUrl": {
                                "type": [
                                  "string",
                                  "null"
                                ]
                              }
                            },
                            "required": [
                              "name",
                              "amountUnit"
                            ]
                          }
                        },
                        "portions": {
                          "type": "number"
                        },
                        "userId": {
                          "type": "string"
                        },
                        "isPublic": {
                          "type": "boolean",
                          "default": false
                        },
                        "version": {
                          "type": "number",
                          "default": 1
                        },
                        "importedCount": {
                          "type": "number",
                          "default": 0
                        },
                        "description": {
                          "type": "string"
                        },
                        "createdAt": {},
                        "updatedAt": {}
                      },
                      "required": [
                        "name",
                        "calories",
                        "protein",
                        "carbs",
                        "fat",
                        "portions",
                        "userId"
                      ]
                    },
                    "error": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "success"
                  ],
                  "description": "收藏食物詳情回應"
                }
              }
            }
          },
          "400": {
            "description": "請求參數錯誤",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "default": false
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "code": {
                            "type": "number"
                          },
                          "message": {
                            "type": "string"
                          }
                        },
                        "required": [
                          "code",
                          "message"
                        ]
                      }
                    }
                  },
                  "required": [
                    "errors"
                  ]
                }
              }
            }
          },
          "401": {
            "description": "未授權 - 需要有效的 Firebase ID token",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "default": false
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "code": {
                            "type": "number"
                          },
                          "message": {
                            "type": "string"
                          }
                        },
                        "required": [
                          "code",
                          "message"
                        ]
                      }
                    }
                  },
                  "required": [
                    "errors"
                  ]
                }
              }
            }
          },
          "404": {
            "description": "找不到指定的收藏食物",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "default": false
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "code": {
                            "type": "number"
                          },
                          "message": {
                            "type": "string"
                          }
                        },
                        "required": [
                          "code",
                          "message"
                        ]
                      }
                    }
                  },
                  "required": [
                    "errors"
                  ]
                }
              }
            }
          },
          "500": {
            "description": "伺服器錯誤",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "default": false
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "code": {
                            "type": "number"
                          },
                          "message": {
                            "type": "string"
                          }
                        },
                        "required": [
                          "code",
                          "message"
                        ]
                      }
                    }
                  },
                  "required": [
                    "errors"
                  ]
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "FavFoods"
        ],
        "summary": "更新收藏食物",
        "description": "更新指定的收藏食物資料，對應 Flutter updateFoodEntry(FoodEntry foodEntry) 方法",
        "operationId": "updateFavFood",
        "security": [
          {
            "Bearer": []
          }
        ],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "description": "要更新的收藏食物 ID"
            },
            "required": true,
            "description": "要更新的收藏食物 ID",
            "name": "id",
            "in": "path"
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string"
                  },
                  "brand": {
                    "type": "string"
                  },
                  "originalImgs": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  },
                  "stickerImg": {
                    "type": "string"
                  },
                  "calories": {
                    "type": "number"
                  },
                  "protein": {
                    "type": "number"
                  },
                  "carbs": {
                    "type": "number"
                  },
                  "fat": {
                    "type": "number"
                  },
                  "healthAssessment": {
                    "type": "object",
                    "properties": {
                      "score": {
                        "type": "number"
                      },
                      "pros": {
                        "type": "array",
                        "items": {},
                        "default": []
                      },
                      "cons": {
                        "type": "array",
                        "items": {},
                        "default": []
                      }
                    },
                    "required": [
                      "score"
                    ]
                  },
                  "ingredients": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "name": {
                          "type": "string"
                        },
                        "calories": {
                          "type": "number",
                          "default": 0
                        },
                        "protein": {
                          "type": "number",
                          "default": 0
                        },
                        "carbs": {
                          "type": "number",
                          "default": 0
                        },
                        "fat": {
                          "type": "number",
                          "default": 0
                        },
                        "amountValue": {
                          "type": "number",
                          "default": 0
                        },
                        "amountUnit": {
                          "type": "string"
                        },
                        "status": {
                          "type": "string",
                          "enum": [
                            "uploading",
                            "analyzing",
                            "done",
                            "failed"
                          ],
                          "default": "done"
                        },
                        "imageUrl": {
                          "type": [
                            "string",
                            "null"
                          ]
                        }
                      },
                      "required": [
                        "name",
                        "amountUnit"
                      ]
                    }
                  },
                  "portions": {
                    "type": "number"
                  },
                  "isPublic": {
                    "type": "boolean",
                    "default": false
                  },
                  "version": {
                    "type": "number",
                    "default": 1
                  },
                  "importedCount": {
                    "type": "number",
                    "default": 0
                  },
                  "description": {
                    "type": "string"
                  },
                  "updatedAt": {}
                },
                "description": "要更新的收藏食物資料（部分欄位可選）"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "成功更新收藏食物",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "default": true
                    }
                  },
                  "description": "更新成功回應"
                }
              }
            }
          },
          "400": {
            "description": "請求參數錯誤",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "default": false
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "code": {
                            "type": "number"
                          },
                          "message": {
                            "type": "string"
                          }
                        },
                        "required": [
                          "code",
                          "message"
                        ]
                      }
                    }
                  },
                  "required": [
                    "errors"
                  ]
                }
              }
            }
          },
          "401": {
            "description": "未授權 - 需要有效的 Firebase ID token",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "default": false
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "code": {
                            "type": "number"
                          },
                          "message": {
                            "type": "string"
                          }
                        },
                        "required": [
                          "code",
                          "message"
                        ]
                      }
                    }
                  },
                  "required": [
                    "errors"
                  ]
                }
              }
            }
          },
          "404": {
            "description": "找不到指定的收藏食物",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "default": false
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "code": {
                            "type": "number"
                          },
                          "message": {
                            "type": "string"
                          }
                        },
                        "required": [
                          "code",
                          "message"
                        ]
                      }
                    }
                  },
                  "required": [
                    "errors"
                  ]
                }
              }
            }
          },
          "500": {
            "description": "伺服器錯誤",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "default": false
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "code": {
                            "type": "number"
                          },
                          "message": {
                            "type": "string"
                          }
                        },
                        "required": [
                          "code",
                          "message"
                        ]
                      }
                    }
                  },
                  "required": [
                    "errors"
                  ]
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "FavFoods"
        ],
        "summary": "刪除收藏食物",
        "description": "刪除指定的收藏食物，對應 Flutter deleteFoodEntry(String id) 方法",
        "operationId": "deleteFavFood",
        "security": [
          {
            "Bearer": []
          }
        ],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "description": "要刪除的收藏食物 ID"
            },
            "required": true,
            "description": "要刪除的收藏食物 ID",
            "name": "id",
            "in": "path"
          }
        ],
        "responses": {
          "204": {
            "description": "成功刪除收藏食物（無內容回傳）"
          },
          "400": {
            "description": "請求參數錯誤",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "default": false
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "code": {
                            "type": "number"
                          },
                          "message": {
                            "type": "string"
                          }
                        },
                        "required": [
                          "code",
                          "message"
                        ]
                      }
                    }
                  },
                  "required": [
                    "errors"
                  ]
                }
              }
            }
          },
          "401": {
            "description": "未授權 - 需要有效的 Firebase ID token",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "default": false
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "code": {
                            "type": "number"
                          },
                          "message": {
                            "type": "string"
                          }
                        },
                        "required": [
                          "code",
                          "message"
                        ]
                      }
                    }
                  },
                  "required": [
                    "errors"
                  ]
                }
              }
            }
          },
          "404": {
            "description": "找不到指定的收藏食物",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "default": false
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "code": {
                            "type": "number"
                          },
                          "message": {
                            "type": "string"
                          }
                        },
                        "required": [
                          "code",
                          "message"
                        ]
                      }
                    }
                  },
                  "required": [
                    "errors"
                  ]
                }
              }
            }
          },
          "500": {
            "description": "伺服器錯誤",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "default": false
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "code": {
                            "type": "number"
                          },
                          "message": {
                            "type": "string"
                          }
                        },
                        "required": [
                          "code",
                          "message"
                        ]
                      }
                    }
                  },
                  "required": [
                    "errors"
                  ]
                }
              }
            }
          }
        }
      }
    },
    "/recipes": {
      "get": {
        "tags": [
          "Recipes"
        ],
        "summary": "取得所有公開食譜",
        "description": "取得所有公開的食譜列表，按創建時間降序排列",
        "operationId": "getAllPublicRecipes",
        "responses": {
          "200": {
            "description": "成功取得公開食譜列表",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "result": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "string"
                          },
                          "name": {
                            "type": "object",
                            "additionalProperties": {
                              "type": "string"
                            },
                            "default": {}
                          },
                          "description": {
                            "type": "object",
                            "additionalProperties": {
                              "type": "string"
                            },
                            "default": {}
                          },
                          "authorId": {
                            "type": "string"
                          },
                          "imgUrl": {
                            "type": "string"
                          },
                          "isPublic": {
                            "type": "boolean",
                            "default": true
                          },
                          "calories": {
                            "type": "number",
                            "default": 0
                          },
                          "protein": {
                            "type": "number",
                            "default": 0
                          },
                          "carbs": {
                            "type": "number",
                            "default": 0
                          },
                          "fat": {
                            "type": "number",
                            "default": 0
                          },
                          "duration": {
                            "type": "number",
                            "default": 0
                          },
                          "difficulty": {
                            "type": "string",
                            "default": "easy"
                          },
                          "servings": {
                            "type": "number",
                            "default": 1
                          },
                          "tags": {
                            "type": "array",
                            "items": {
                              "type": "string"
                            },
                            "default": []
                          },
                          "ingredients": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "properties": {
                                "name": {
                                  "type": "object",
                                  "additionalProperties": {
                                    "type": "string"
                                  },
                                  "default": {}
                                },
                                "amountValue": {
                                  "type": "number",
                                  "default": 0
                                },
                                "amountUnit": {
                                  "type": "object",
                                  "additionalProperties": {
                                    "type": "string"
                                  },
                                  "default": {}
                                },
                                "calories": {
                                  "type": "number",
                                  "default": 0
                                },
                                "protein": {
                                  "type": "number",
                                  "default": 0
                                },
                                "carbs": {
                                  "type": "number",
                                  "default": 0
                                },
                                "fat": {
                                  "type": "number",
                                  "default": 0
                                },
                                "status": {
                                  "type": "string",
                                  "enum": [
                                    "uploading",
                                    "analyzing",
                                    "done",
                                    "failed"
                                  ],
                                  "default": "done"
                                },
                                "imageUrl": {
                                  "type": [
                                    "string",
                                    "null"
                                  ]
                                }
                              }
                            },
                            "default": []
                          },
                          "recipeHealthAssessment": {
                            "type": "object",
                            "properties": {
                              "score": {
                                "type": "number"
                              },
                              "pros": {
                                "type": "object",
                                "additionalProperties": {
                                  "type": "array",
                                  "items": {
                                    "type": "string"
                                  }
                                },
                                "default": {}
                              },
                              "cons": {
                                "type": "object",
                                "additionalProperties": {
                                  "type": "array",
                                  "items": {
                                    "type": "string"
                                  }
                                },
                                "default": {}
                              }
                            },
                            "required": [
                              "score"
                            ]
                          },
                          "steps": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "properties": {
                                "order": {
                                  "type": "number"
                                },
                                "stepDescription": {
                                  "type": "object",
                                  "additionalProperties": {
                                    "type": "string"
                                  },
                                  "default": {}
                                },
                                "status": {
                                  "type": "string",
                                  "enum": [
                                    "uploading",
                                    "analyzing",
                                    "done",
                                    "failed"
                                  ],
                                  "default": "done"
                                }
                              },
                              "required": [
                                "order"
                              ]
                            },
                            "default": []
                          },
                          "stepsImg": {
                            "type": "array",
                            "items": {
                              "type": "string"
                            },
                            "default": []
                          },
                          "status": {
                            "type": "string",
                            "enum": [
                              "uploading",
                              "analyzing",
                              "done",
                              "failed"
                            ],
                            "default": "done"
                          },
                          "progress": {
                            "type": "number",
                            "default": 0
                          },
                          "isDeleted": {
                            "type": "boolean",
                            "default": false
                          },
                          "deletedAt": {},
                          "createdAt": {},
                          "updatedAt": {}
                        }
                      }
                    },
                    "error": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "success"
                  ],
                  "description": "公開食譜列表回應"
                }
              }
            }
          },
          "500": {
            "description": "伺服器錯誤",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "default": false
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "code": {
                            "type": "number"
                          },
                          "message": {
                            "type": "string"
                          }
                        },
                        "required": [
                          "code",
                          "message"
                        ]
                      }
                    }
                  },
                  "required": [
                    "errors"
                  ]
                }
              }
            }
          }
        }
      }
    },
    "/recipes/detail/{id}": {
      "get": {
        "tags": [
          "Recipes"
        ],
        "summary": "取得食譜詳情",
        "description": "根據 ID 取得單一食譜的詳細資訊",
        "operationId": "getRecipe",
        "parameters": [
          {
            "schema": {
              "type": "string",
              "description": "食譜 ID"
            },
            "required": true,
            "description": "食譜 ID",
            "name": "id",
            "in": "path"
          }
        ],
        "responses": {
          "200": {
            "description": "成功取得食譜詳情",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "result": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "string"
                        },
                        "name": {
                          "type": "object",
                          "additionalProperties": {
                            "type": "string"
                          },
                          "default": {}
                        },
                        "description": {
                          "type": "object",
                          "additionalProperties": {
                            "type": "string"
                          },
                          "default": {}
                        },
                        "authorId": {
                          "type": "string"
                        },
                        "imgUrl": {
                          "type": "string"
                        },
                        "isPublic": {
                          "type": "boolean",
                          "default": true
                        },
                        "calories": {
                          "type": "number",
                          "default": 0
                        },
                        "protein": {
                          "type": "number",
                          "default": 0
                        },
                        "carbs": {
                          "type": "number",
                          "default": 0
                        },
                        "fat": {
                          "type": "number",
                          "default": 0
                        },
                        "duration": {
                          "type": "number",
                          "default": 0
                        },
                        "difficulty": {
                          "type": "string",
                          "default": "easy"
                        },
                        "servings": {
                          "type": "number",
                          "default": 1
                        },
                        "tags": {
                          "type": "array",
                          "items": {
                            "type": "string"
                          },
                          "default": []
                        },
                        "ingredients": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "name": {
                                "type": "object",
                                "additionalProperties": {
                                  "type": "string"
                                },
                                "default": {}
                              },
                              "amountValue": {
                                "type": "number",
                                "default": 0
                              },
                              "amountUnit": {
                                "type": "object",
                                "additionalProperties": {
                                  "type": "string"
                                },
                                "default": {}
                              },
                              "calories": {
                                "type": "number",
                                "default": 0
                              },
                              "protein": {
                                "type": "number",
                                "default": 0
                              },
                              "carbs": {
                                "type": "number",
                                "default": 0
                              },
                              "fat": {
                                "type": "number",
                                "default": 0
                              },
                              "status": {
                                "type": "string",
                                "enum": [
                                  "uploading",
                                  "analyzing",
                                  "done",
                                  "failed"
                                ],
                                "default": "done"
                              },
                              "imageUrl": {
                                "type": [
                                  "string",
                                  "null"
                                ]
                              }
                            }
                          },
                          "default": []
                        },
                        "recipeHealthAssessment": {
                          "type": "object",
                          "properties": {
                            "score": {
                              "type": "number"
                            },
                            "pros": {
                              "type": "object",
                              "additionalProperties": {
                                "type": "array",
                                "items": {
                                  "type": "string"
                                }
                              },
                              "default": {}
                            },
                            "cons": {
                              "type": "object",
                              "additionalProperties": {
                                "type": "array",
                                "items": {
                                  "type": "string"
                                }
                              },
                              "default": {}
                            }
                          },
                          "required": [
                            "score"
                          ]
                        },
                        "steps": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "order": {
                                "type": "number"
                              },
                              "stepDescription": {
                                "type": "object",
                                "additionalProperties": {
                                  "type": "string"
                                },
                                "default": {}
                              },
                              "status": {
                                "type": "string",
                                "enum": [
                                  "uploading",
                                  "analyzing",
                                  "done",
                                  "failed"
                                ],
                                "default": "done"
                              }
                            },
                            "required": [
                              "order"
                            ]
                          },
                          "default": []
                        },
                        "stepsImg": {
                          "type": "array",
                          "items": {
                            "type": "string"
                          },
                          "default": []
                        },
                        "status": {
                          "type": "string",
                          "enum": [
                            "uploading",
                            "analyzing",
                            "done",
                            "failed"
                          ],
                          "default": "done"
                        },
                        "progress": {
                          "type": "number",
                          "default": 0
                        },
                        "isDeleted": {
                          "type": "boolean",
                          "default": false
                        },
                        "deletedAt": {},
                        "createdAt": {},
                        "updatedAt": {}
                      }
                    },
                    "error": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "success"
                  ],
                  "description": "食譜詳情回應"
                }
              }
            }
          },
          "404": {
            "description": "找不到食譜",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "default": false
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "code": {
                            "type": "number"
                          },
                          "message": {
                            "type": "string"
                          }
                        },
                        "required": [
                          "code",
                          "message"
                        ]
                      }
                    }
                  },
                  "required": [
                    "errors"
                  ]
                }
              }
            }
          },
          "500": {
            "description": "伺服器錯誤",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "default": false
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "code": {
                            "type": "number"
                          },
                          "message": {
                            "type": "string"
                          }
                        },
                        "required": [
                          "code",
                          "message"
                        ]
                      }
                    }
                  },
                  "required": [
                    "errors"
                  ]
                }
              }
            }
          }
        }
      }
    },
    "/recipes/create": {
      "post": {
        "tags": [
          "Recipes"
        ],
        "summary": "建立新食譜",
        "description": "建立新食譜，支援主要圖片、步驟圖片和成分圖片的智慧處理",
        "operationId": "createRecipe",
        "security": [
          {
            "Bearer": []
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "recipe": {
                    "type": "object",
                    "properties": {
                      "id": {
                        "type": "string"
                      },
                      "name": {
                        "type": "object",
                        "additionalProperties": {
                          "type": "string"
                        },
                        "default": {}
                      },
                      "description": {
                        "type": "object",
                        "additionalProperties": {
                          "type": "string"
                        },
                        "default": {}
                      },
                      "imgUrl": {
                        "type": "string"
                      },
                      "isPublic": {
                        "type": "boolean",
                        "default": true
                      },
                      "calories": {
                        "type": "number",
                        "default": 0
                      },
                      "protein": {
                        "type": "number",
                        "default": 0
                      },
                      "carbs": {
                        "type": "number",
                        "default": 0
                      },
                      "fat": {
                        "type": "number",
                        "default": 0
                      },
                      "duration": {
                        "type": "number",
                        "default": 0
                      },
                      "difficulty": {
                        "type": "string",
                        "default": "easy"
                      },
                      "servings": {
                        "type": "number",
                        "default": 1
                      },
                      "tags": {
                        "type": "array",
                        "items": {
                          "type": "string"
                        },
                        "default": []
                      },
                      "ingredients": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "properties": {
                            "name": {
                              "type": "object",
                              "additionalProperties": {
                                "type": "string"
                              },
                              "default": {}
                            },
                            "amountValue": {
                              "type": "number",
                              "default": 0
                            },
                            "amountUnit": {
                              "type": "object",
                              "additionalProperties": {
                                "type": "string"
                              },
                              "default": {}
                            },
                            "calories": {
                              "type": "number",
                              "default": 0
                            },
                            "protein": {
                              "type": "number",
                              "default": 0
                            },
                            "carbs": {
                              "type": "number",
                              "default": 0
                            },
                            "fat": {
                              "type": "number",
                              "default": 0
                            },
                            "status": {
                              "type": "string",
                              "enum": [
                                "uploading",
                                "analyzing",
                                "done",
                                "failed"
                              ],
                              "default": "done"
                            },
                            "imageUrl": {
                              "type": [
                                "string",
                                "null"
                              ]
                            }
                          }
                        },
                        "default": []
                      },
                      "recipeHealthAssessment": {
                        "type": "object",
                        "properties": {
                          "score": {
                            "type": "number"
                          },
                          "pros": {
                            "type": "object",
                            "additionalProperties": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              }
                            },
                            "default": {}
                          },
                          "cons": {
                            "type": "object",
                            "additionalProperties": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              }
                            },
                            "default": {}
                          }
                        },
                        "required": [
                          "score"
                        ]
                      },
                      "steps": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "properties": {
                            "order": {
                              "type": "number"
                            },
                            "stepDescription": {
                              "type": "object",
                              "additionalProperties": {
                                "type": "string"
                              },
                              "default": {}
                            },
                            "status": {
                              "type": "string",
                              "enum": [
                                "uploading",
                                "analyzing",
                                "done",
                                "failed"
                              ],
                              "default": "done"
                            }
                          },
                          "required": [
                            "order"
                          ]
                        },
                        "default": []
                      },
                      "stepsImg": {
                        "type": "array",
                        "items": {
                          "type": "string"
                        },
                        "default": []
                      },
                      "status": {
                        "type": "string",
                        "enum": [
                          "uploading",
                          "analyzing",
                          "done",
                          "failed"
                        ],
                        "default": "done"
                      },
                      "progress": {
                        "type": "number",
                        "default": 0
                      },
                      "isDeleted": {
                        "type": "boolean",
                        "default": false
                      },
                      "deletedAt": {}
                    },
                    "required": [
                      "id"
                    ]
                  },
                  "mainImage": {
                    "type": "string"
                  },
                  "stepImages": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  },
                  "ingredientImages": {
                    "type": "object",
                    "additionalProperties": {
                      "type": "string"
                    }
                  }
                },
                "required": [
                  "recipe"
                ],
                "description": "建立食譜請求"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "成功建立食譜",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "result": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "string"
                        },
                        "name": {
                          "type": "object",
                          "additionalProperties": {
                            "type": "string"
                          },
                          "default": {}
                        },
                        "description": {
                          "type": "object",
                          "additionalProperties": {
                            "type": "string"
                          },
                          "default": {}
                        },
                        "authorId": {
                          "type": "string"
                        },
                        "imgUrl": {
                          "type": "string"
                        },
                        "isPublic": {
                          "type": "boolean",
                          "default": true
                        },
                        "calories": {
                          "type": "number",
                          "default": 0
                        },
                        "protein": {
                          "type": "number",
                          "default": 0
                        },
                        "carbs": {
                          "type": "number",
                          "default": 0
                        },
                        "fat": {
                          "type": "number",
                          "default": 0
                        },
                        "duration": {
                          "type": "number",
                          "default": 0
                        },
                        "difficulty": {
                          "type": "string",
                          "default": "easy"
                        },
                        "servings": {
                          "type": "number",
                          "default": 1
                        },
                        "tags": {
                          "type": "array",
                          "items": {
                            "type": "string"
                          },
                          "default": []
                        },
                        "ingredients": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "name": {
                                "type": "object",
                                "additionalProperties": {
                                  "type": "string"
                                },
                                "default": {}
                              },
                              "amountValue": {
                                "type": "number",
                                "default": 0
                              },
                              "amountUnit": {
                                "type": "object",
                                "additionalProperties": {
                                  "type": "string"
                                },
                                "default": {}
                              },
                              "calories": {
                                "type": "number",
                                "default": 0
                              },
                              "protein": {
                                "type": "number",
                                "default": 0
                              },
                              "carbs": {
                                "type": "number",
                                "default": 0
                              },
                              "fat": {
                                "type": "number",
                                "default": 0
                              },
                              "status": {
                                "type": "string",
                                "enum": [
                                  "uploading",
                                  "analyzing",
                                  "done",
                                  "failed"
                                ],
                                "default": "done"
                              },
                              "imageUrl": {
                                "type": [
                                  "string",
                                  "null"
                                ]
                              }
                            }
                          },
                          "default": []
                        },
                        "recipeHealthAssessment": {
                          "type": "object",
                          "properties": {
                            "score": {
                              "type": "number"
                            },
                            "pros": {
                              "type": "object",
                              "additionalProperties": {
                                "type": "array",
                                "items": {
                                  "type": "string"
                                }
                              },
                              "default": {}
                            },
                            "cons": {
                              "type": "object",
                              "additionalProperties": {
                                "type": "array",
                                "items": {
                                  "type": "string"
                                }
                              },
                              "default": {}
                            }
                          },
                          "required": [
                            "score"
                          ]
                        },
                        "steps": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "order": {
                                "type": "number"
                              },
                              "stepDescription": {
                                "type": "object",
                                "additionalProperties": {
                                  "type": "string"
                                },
                                "default": {}
                              },
                              "status": {
                                "type": "string",
                                "enum": [
                                  "uploading",
                                  "analyzing",
                                  "done",
                                  "failed"
                                ],
                                "default": "done"
                              }
                            },
                            "required": [
                              "order"
                            ]
                          },
                          "default": []
                        },
                        "stepsImg": {
                          "type": "array",
                          "items": {
                            "type": "string"
                          },
                          "default": []
                        },
                        "status": {
                          "type": "string",
                          "enum": [
                            "uploading",
                            "analyzing",
                            "done",
                            "failed"
                          ],
                          "default": "done"
                        },
                        "progress": {
                          "type": "number",
                          "default": 0
                        },
                        "isDeleted": {
                          "type": "boolean",
                          "default": false
                        },
                        "deletedAt": {},
                        "createdAt": {},
                        "updatedAt": {}
                      }
                    },
                    "error": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "success"
                  ],
                  "description": "食譜建立回應"
                }
              }
            }
          },
          "400": {
            "description": "請求參數錯誤",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "default": false
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "code": {
                            "type": "number"
                          },
                          "message": {
                            "type": "string"
                          }
                        },
                        "required": [
                          "code",
                          "message"
                        ]
                      }
                    }
                  },
                  "required": [
                    "errors"
                  ]
                }
              }
            }
          },
          "401": {
            "description": "未授權 - 需要有效的 Firebase ID token",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "default": false
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "code": {
                            "type": "number"
                          },
                          "message": {
                            "type": "string"
                          }
                        },
                        "required": [
                          "code",
                          "message"
                        ]
                      }
                    }
                  },
                  "required": [
                    "errors"
                  ]
                }
              }
            }
          },
          "500": {
            "description": "伺服器錯誤",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "default": false
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "code": {
                            "type": "number"
                          },
                          "message": {
                            "type": "string"
                          }
                        },
                        "required": [
                          "code",
                          "message"
                        ]
                      }
                    }
                  },
                  "required": [
                    "errors"
                  ]
                }
              }
            }
          }
        }
      }
    },
    "/recipes/update/{id}": {
      "put": {
        "tags": [
          "Recipes"
        ],
        "summary": "更新食譜",
        "description": "更新現有食譜，支援主要圖片、步驟圖片和成分圖片的智慧處理",
        "operationId": "updateRecipe",
        "security": [
          {
            "Bearer": []
          }
        ],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "description": "食譜 ID"
            },
            "required": true,
            "description": "食譜 ID",
            "name": "id",
            "in": "path"
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "recipe": {
                    "type": "object",
                    "properties": {
                      "id": {
                        "type": "string"
                      },
                      "name": {
                        "type": "object",
                        "additionalProperties": {
                          "type": "string"
                        },
                        "default": {}
                      },
                      "description": {
                        "type": "object",
                        "additionalProperties": {
                          "type": "string"
                        },
                        "default": {}
                      },
                      "authorId": {
                        "type": "string"
                      },
                      "imgUrl": {
                        "type": "string"
                      },
                      "isPublic": {
                        "type": "boolean",
                        "default": true
                      },
                      "calories": {
                        "type": "number",
                        "default": 0
                      },
                      "protein": {
                        "type": "number",
                        "default": 0
                      },
                      "carbs": {
                        "type": "number",
                        "default": 0
                      },
                      "fat": {
                        "type": "number",
                        "default": 0
                      },
                      "duration": {
                        "type": "number",
                        "default": 0
                      },
                      "difficulty": {
                        "type": "string",
                        "default": "easy"
                      },
                      "servings": {
                        "type": "number",
                        "default": 1
                      },
                      "tags": {
                        "type": "array",
                        "items": {
                          "type": "string"
                        },
                        "default": []
                      },
                      "ingredients": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "properties": {
                            "name": {
                              "type": "object",
                              "additionalProperties": {
                                "type": "string"
                              },
                              "default": {}
                            },
                            "amountValue": {
                              "type": "number",
                              "default": 0
                            },
                            "amountUnit": {
                              "type": "object",
                              "additionalProperties": {
                                "type": "string"
                              },
                              "default": {}
                            },
                            "calories": {
                              "type": "number",
                              "default": 0
                            },
                            "protein": {
                              "type": "number",
                              "default": 0
                            },
                            "carbs": {
                              "type": "number",
                              "default": 0
                            },
                            "fat": {
                              "type": "number",
                              "default": 0
                            },
                            "status": {
                              "type": "string",
                              "enum": [
                                "uploading",
                                "analyzing",
                                "done",
                                "failed"
                              ],
                              "default": "done"
                            },
                            "imageUrl": {
                              "type": [
                                "string",
                                "null"
                              ]
                            }
                          }
                        },
                        "default": []
                      },
                      "recipeHealthAssessment": {
                        "type": "object",
                        "properties": {
                          "score": {
                            "type": "number"
                          },
                          "pros": {
                            "type": "object",
                            "additionalProperties": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              }
                            },
                            "default": {}
                          },
                          "cons": {
                            "type": "object",
                            "additionalProperties": {
                              "type": "array",
                              "items": {
                                "type": "string"
                              }
                            },
                            "default": {}
                          }
                        },
                        "required": [
                          "score"
                        ]
                      },
                      "steps": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "properties": {
                            "order": {
                              "type": "number"
                            },
                            "stepDescription": {
                              "type": "object",
                              "additionalProperties": {
                                "type": "string"
                              },
                              "default": {}
                            },
                            "status": {
                              "type": "string",
                              "enum": [
                                "uploading",
                                "analyzing",
                                "done",
                                "failed"
                              ],
                              "default": "done"
                            }
                          },
                          "required": [
                            "order"
                          ]
                        },
                        "default": []
                      },
                      "stepsImg": {
                        "type": "array",
                        "items": {
                          "type": "string"
                        },
                        "default": []
                      },
                      "status": {
                        "type": "string",
                        "enum": [
                          "uploading",
                          "analyzing",
                          "done",
                          "failed"
                        ],
                        "default": "done"
                      },
                      "progress": {
                        "type": "number",
                        "default": 0
                      },
                      "isDeleted": {
                        "type": "boolean",
                        "default": false
                      },
                      "deletedAt": {},
                      "createdAt": {},
                      "updatedAt": {}
                    },
                    "required": [
                      "id"
                    ]
                  },
                  "mainImage": {
                    "type": "string"
                  },
                  "stepImages": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  },
                  "ingredientImages": {
                    "type": "object",
                    "additionalProperties": {
                      "type": "string"
                    }
                  }
                },
                "required": [
                  "recipe"
                ],
                "description": "更新食譜請求"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "成功更新食譜",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "result": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "string"
                        },
                        "name": {
                          "type": "object",
                          "additionalProperties": {
                            "type": "string"
                          },
                          "default": {}
                        },
                        "description": {
                          "type": "object",
                          "additionalProperties": {
                            "type": "string"
                          },
                          "default": {}
                        },
                        "authorId": {
                          "type": "string"
                        },
                        "imgUrl": {
                          "type": "string"
                        },
                        "isPublic": {
                          "type": "boolean",
                          "default": true
                        },
                        "calories": {
                          "type": "number",
                          "default": 0
                        },
                        "protein": {
                          "type": "number",
                          "default": 0
                        },
                        "carbs": {
                          "type": "number",
                          "default": 0
                        },
                        "fat": {
                          "type": "number",
                          "default": 0
                        },
                        "duration": {
                          "type": "number",
                          "default": 0
                        },
                        "difficulty": {
                          "type": "string",
                          "default": "easy"
                        },
                        "servings": {
                          "type": "number",
                          "default": 1
                        },
                        "tags": {
                          "type": "array",
                          "items": {
                            "type": "string"
                          },
                          "default": []
                        },
                        "ingredients": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "name": {
                                "type": "object",
                                "additionalProperties": {
                                  "type": "string"
                                },
                                "default": {}
                              },
                              "amountValue": {
                                "type": "number",
                                "default": 0
                              },
                              "amountUnit": {
                                "type": "object",
                                "additionalProperties": {
                                  "type": "string"
                                },
                                "default": {}
                              },
                              "calories": {
                                "type": "number",
                                "default": 0
                              },
                              "protein": {
                                "type": "number",
                                "default": 0
                              },
                              "carbs": {
                                "type": "number",
                                "default": 0
                              },
                              "fat": {
                                "type": "number",
                                "default": 0
                              },
                              "status": {
                                "type": "string",
                                "enum": [
                                  "uploading",
                                  "analyzing",
                                  "done",
                                  "failed"
                                ],
                                "default": "done"
                              },
                              "imageUrl": {
                                "type": [
                                  "string",
                                  "null"
                                ]
                              }
                            }
                          },
                          "default": []
                        },
                        "recipeHealthAssessment": {
                          "type": "object",
                          "properties": {
                            "score": {
                              "type": "number"
                            },
                            "pros": {
                              "type": "object",
                              "additionalProperties": {
                                "type": "array",
                                "items": {
                                  "type": "string"
                                }
                              },
                              "default": {}
                            },
                            "cons": {
                              "type": "object",
                              "additionalProperties": {
                                "type": "array",
                                "items": {
                                  "type": "string"
                                }
                              },
                              "default": {}
                            }
                          },
                          "required": [
                            "score"
                          ]
                        },
                        "steps": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "order": {
                                "type": "number"
                              },
                              "stepDescription": {
                                "type": "object",
                                "additionalProperties": {
                                  "type": "string"
                                },
                                "default": {}
                              },
                              "status": {
                                "type": "string",
                                "enum": [
                                  "uploading",
                                  "analyzing",
                                  "done",
                                  "failed"
                                ],
                                "default": "done"
                              }
                            },
                            "required": [
                              "order"
                            ]
                          },
                          "default": []
                        },
                        "stepsImg": {
                          "type": "array",
                          "items": {
                            "type": "string"
                          },
                          "default": []
                        },
                        "status": {
                          "type": "string",
                          "enum": [
                            "uploading",
                            "analyzing",
                            "done",
                            "failed"
                          ],
                          "default": "done"
                        },
                        "progress": {
                          "type": "number",
                          "default": 0
                        },
                        "isDeleted": {
                          "type": "boolean",
                          "default": false
                        },
                        "deletedAt": {},
                        "createdAt": {},
                        "updatedAt": {}
                      }
                    },
                    "error": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "success"
                  ],
                  "description": "食譜更新回應"
                }
              }
            }
          },
          "400": {
            "description": "請求參數錯誤",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "default": false
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "code": {
                            "type": "number"
                          },
                          "message": {
                            "type": "string"
                          }
                        },
                        "required": [
                          "code",
                          "message"
                        ]
                      }
                    }
                  },
                  "required": [
                    "errors"
                  ]
                }
              }
            }
          },
          "401": {
            "description": "未授權 - 需要有效的 Firebase ID token",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "default": false
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "code": {
                            "type": "number"
                          },
                          "message": {
                            "type": "string"
                          }
                        },
                        "required": [
                          "code",
                          "message"
                        ]
                      }
                    }
                  },
                  "required": [
                    "errors"
                  ]
                }
              }
            }
          },
          "404": {
            "description": "找不到食譜",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "default": false
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "code": {
                            "type": "number"
                          },
                          "message": {
                            "type": "string"
                          }
                        },
                        "required": [
                          "code",
                          "message"
                        ]
                      }
                    }
                  },
                  "required": [
                    "errors"
                  ]
                }
              }
            }
          },
          "500": {
            "description": "伺服器錯誤",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "default": false
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "code": {
                            "type": "number"
                          },
                          "message": {
                            "type": "string"
                          }
                        },
                        "required": [
                          "code",
                          "message"
                        ]
                      }
                    }
                  },
                  "required": [
                    "errors"
                  ]
                }
              }
            }
          }
        }
      }
    },
    "/recipes/delete/{id}": {
      "delete": {
        "tags": [
          "Recipes"
        ],
        "summary": "刪除食譜",
        "description": "軟刪除指定的食譜（設置 isDeleted = true）",
        "operationId": "deleteRecipe",
        "security": [
          {
            "Bearer": []
          }
        ],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "description": "食譜 ID"
            },
            "required": true,
            "description": "食譜 ID",
            "name": "id",
            "in": "path"
          }
        ],
        "responses": {
          "200": {
            "description": "成功刪除食譜",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "default": true
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "請求參數錯誤",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "default": false
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "code": {
                            "type": "number"
                          },
                          "message": {
                            "type": "string"
                          }
                        },
                        "required": [
                          "code",
                          "message"
                        ]
                      }
                    }
                  },
                  "required": [
                    "errors"
                  ]
                }
              }
            }
          },
          "401": {
            "description": "未授權 - 需要有效的 Firebase ID token",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "default": false
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "code": {
                            "type": "number"
                          },
                          "message": {
                            "type": "string"
                          }
                        },
                        "required": [
                          "code",
                          "message"
                        ]
                      }
                    }
                  },
                  "required": [
                    "errors"
                  ]
                }
              }
            }
          },
          "404": {
            "description": "找不到食譜",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "default": false
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "code": {
                            "type": "number"
                          },
                          "message": {
                            "type": "string"
                          }
                        },
                        "required": [
                          "code",
                          "message"
                        ]
                      }
                    }
                  },
                  "required": [
                    "errors"
                  ]
                }
              }
            }
          },
          "500": {
            "description": "伺服器錯誤",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "default": false
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "code": {
                            "type": "number"
                          },
                          "message": {
                            "type": "string"
                          }
                        },
                        "required": [
                          "code",
                          "message"
                        ]
                      }
                    }
                  },
                  "required": [
                    "errors"
                  ]
                }
              }
            }
          }
        }
      }
    },
    "/recipes/my": {
      "get": {
        "tags": [
          "Recipes"
        ],
        "summary": "取得我的食譜",
        "description": "取得已驗證使用者的食譜列表，按創建時間降序排列",
        "operationId": "getMyRecipes",
        "security": [
          {
            "Bearer": []
          }
        ],
        "responses": {
          "200": {
            "description": "成功取得我的食譜列表",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "result": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "string"
                          },
                          "name": {
                            "type": "object",
                            "additionalProperties": {
                              "type": "string"
                            },
                            "default": {}
                          },
                          "description": {
                            "type": "object",
                            "additionalProperties": {
                              "type": "string"
                            },
                            "default": {}
                          },
                          "authorId": {
                            "type": "string"
                          },
                          "imgUrl": {
                            "type": "string"
                          },
                          "isPublic": {
                            "type": "boolean",
                            "default": true
                          },
                          "calories": {
                            "type": "number",
                            "default": 0
                          },
                          "protein": {
                            "type": "number",
                            "default": 0
                          },
                          "carbs": {
                            "type": "number",
                            "default": 0
                          },
                          "fat": {
                            "type": "number",
                            "default": 0
                          },
                          "duration": {
                            "type": "number",
                            "default": 0
                          },
                          "difficulty": {
                            "type": "string",
                            "default": "easy"
                          },
                          "servings": {
                            "type": "number",
                            "default": 1
                          },
                          "tags": {
                            "type": "array",
                            "items": {
                              "type": "string"
                            },
                            "default": []
                          },
                          "ingredients": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "properties": {
                                "name": {
                                  "type": "object",
                                  "additionalProperties": {
                                    "type": "string"
                                  },
                                  "default": {}
                                },
                                "amountValue": {
                                  "type": "number",
                                  "default": 0
                                },
                                "amountUnit": {
                                  "type": "object",
                                  "additionalProperties": {
                                    "type": "string"
                                  },
                                  "default": {}
                                },
                                "calories": {
                                  "type": "number",
                                  "default": 0
                                },
                                "protein": {
                                  "type": "number",
                                  "default": 0
                                },
                                "carbs": {
                                  "type": "number",
                                  "default": 0
                                },
                                "fat": {
                                  "type": "number",
                                  "default": 0
                                },
                                "status": {
                                  "type": "string",
                                  "enum": [
                                    "uploading",
                                    "analyzing",
                                    "done",
                                    "failed"
                                  ],
                                  "default": "done"
                                },
                                "imageUrl": {
                                  "type": [
                                    "string",
                                    "null"
                                  ]
                                }
                              }
                            },
                            "default": []
                          },
                          "recipeHealthAssessment": {
                            "type": "object",
                            "properties": {
                              "score": {
                                "type": "number"
                              },
                              "pros": {
                                "type": "object",
                                "additionalProperties": {
                                  "type": "array",
                                  "items": {
                                    "type": "string"
                                  }
                                },
                                "default": {}
                              },
                              "cons": {
                                "type": "object",
                                "additionalProperties": {
                                  "type": "array",
                                  "items": {
                                    "type": "string"
                                  }
                                },
                                "default": {}
                              }
                            },
                            "required": [
                              "score"
                            ]
                          },
                          "steps": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "properties": {
                                "order": {
                                  "type": "number"
                                },
                                "stepDescription": {
                                  "type": "object",
                                  "additionalProperties": {
                                    "type": "string"
                                  },
                                  "default": {}
                                },
                                "status": {
                                  "type": "string",
                                  "enum": [
                                    "uploading",
                                    "analyzing",
                                    "done",
                                    "failed"
                                  ],
                                  "default": "done"
                                }
                              },
                              "required": [
                                "order"
                              ]
                            },
                            "default": []
                          },
                          "stepsImg": {
                            "type": "array",
                            "items": {
                              "type": "string"
                            },
                            "default": []
                          },
                          "status": {
                            "type": "string",
                            "enum": [
                              "uploading",
                              "analyzing",
                              "done",
                              "failed"
                            ],
                            "default": "done"
                          },
                          "progress": {
                            "type": "number",
                            "default": 0
                          },
                          "isDeleted": {
                            "type": "boolean",
                            "default": false
                          },
                          "deletedAt": {},
                          "createdAt": {},
                          "updatedAt": {}
                        }
                      }
                    },
                    "error": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "success"
                  ],
                  "description": "我的食譜列表回應"
                }
              }
            }
          },
          "401": {
            "description": "未授權 - 需要有效的 Firebase ID token",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "default": false
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "code": {
                            "type": "number"
                          },
                          "message": {
                            "type": "string"
                          }
                        },
                        "required": [
                          "code",
                          "message"
                        ]
                      }
                    }
                  },
                  "required": [
                    "errors"
                  ]
                }
              }
            }
          },
          "500": {
            "description": "伺服器錯誤",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "default": false
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "code": {
                            "type": "number"
                          },
                          "message": {
                            "type": "string"
                          }
                        },
                        "required": [
                          "code",
                          "message"
                        ]
                      }
                    }
                  },
                  "required": [
                    "errors"
                  ]
                }
              }
            }
          }
        }
      }
    },
    "/recipes/favorites/{id}": {
      "post": {
        "tags": [
          "Recipes",
          "Favorites"
        ],
        "summary": "加入收藏食譜",
        "description": "將指定食譜加入使用者的收藏清單",
        "operationId": "addToFavorites",
        "security": [
          {
            "Bearer": []
          }
        ],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "description": "食譜 ID"
            },
            "required": true,
            "description": "食譜 ID",
            "name": "id",
            "in": "path"
          }
        ],
        "responses": {
          "201": {
            "description": "成功加入收藏",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "default": true
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "請求參數錯誤",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "default": false
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "code": {
                            "type": "number"
                          },
                          "message": {
                            "type": "string"
                          }
                        },
                        "required": [
                          "code",
                          "message"
                        ]
                      }
                    }
                  },
                  "required": [
                    "errors"
                  ]
                }
              }
            }
          },
          "401": {
            "description": "未授權 - 需要有效的 Firebase ID token",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "default": false
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "code": {
                            "type": "number"
                          },
                          "message": {
                            "type": "string"
                          }
                        },
                        "required": [
                          "code",
                          "message"
                        ]
                      }
                    }
                  },
                  "required": [
                    "errors"
                  ]
                }
              }
            }
          },
          "404": {
            "description": "找不到食譜",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "default": false
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "code": {
                            "type": "number"
                          },
                          "message": {
                            "type": "string"
                          }
                        },
                        "required": [
                          "code",
                          "message"
                        ]
                      }
                    }
                  },
                  "required": [
                    "errors"
                  ]
                }
              }
            }
          },
          "500": {
            "description": "伺服器錯誤",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "default": false
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "code": {
                            "type": "number"
                          },
                          "message": {
                            "type": "string"
                          }
                        },
                        "required": [
                          "code",
                          "message"
                        ]
                      }
                    }
                  },
                  "required": [
                    "errors"
                  ]
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Recipes",
          "Favorites"
        ],
        "summary": "移除收藏食譜",
        "description": "將指定食譜從使用者的收藏清單中移除",
        "operationId": "removeFromFavorites",
        "security": [
          {
            "Bearer": []
          }
        ],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "description": "食譜 ID"
            },
            "required": true,
            "description": "食譜 ID",
            "name": "id",
            "in": "path"
          }
        ],
        "responses": {
          "200": {
            "description": "成功移除收藏",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "default": true
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "請求參數錯誤",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "default": false
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "code": {
                            "type": "number"
                          },
                          "message": {
                            "type": "string"
                          }
                        },
                        "required": [
                          "code",
                          "message"
                        ]
                      }
                    }
                  },
                  "required": [
                    "errors"
                  ]
                }
              }
            }
          },
          "401": {
            "description": "未授權 - 需要有效的 Firebase ID token",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "default": false
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "code": {
                            "type": "number"
                          },
                          "message": {
                            "type": "string"
                          }
                        },
                        "required": [
                          "code",
                          "message"
                        ]
                      }
                    }
                  },
                  "required": [
                    "errors"
                  ]
                }
              }
            }
          },
          "404": {
            "description": "找不到收藏記錄",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "default": false
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "code": {
                            "type": "number"
                          },
                          "message": {
                            "type": "string"
                          }
                        },
                        "required": [
                          "code",
                          "message"
                        ]
                      }
                    }
                  },
                  "required": [
                    "errors"
                  ]
                }
              }
            }
          },
          "500": {
            "description": "伺服器錯誤",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "default": false
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "code": {
                            "type": "number"
                          },
                          "message": {
                            "type": "string"
                          }
                        },
                        "required": [
                          "code",
                          "message"
                        ]
                      }
                    }
                  },
                  "required": [
                    "errors"
                  ]
                }
              }
            }
          }
        }
      }
    },
    "/recipes/favorites": {
      "get": {
        "tags": [
          "Recipes",
          "Favorites"
        ],
        "summary": "取得收藏食譜",
        "description": "取得已驗證使用者的收藏食譜列表，按收藏時間降序排列",
        "operationId": "getFavoriteRecipes",
        "security": [
          {
            "Bearer": []
          }
        ],
        "responses": {
          "200": {
            "description": "成功取得收藏食譜列表",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "result": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "string"
                          },
                          "name": {
                            "type": "object",
                            "additionalProperties": {
                              "type": "string"
                            },
                            "default": {}
                          },
                          "description": {
                            "type": "object",
                            "additionalProperties": {
                              "type": "string"
                            },
                            "default": {}
                          },
                          "authorId": {
                            "type": "string"
                          },
                          "imgUrl": {
                            "type": "string"
                          },
                          "isPublic": {
                            "type": "boolean",
                            "default": true
                          },
                          "calories": {
                            "type": "number",
                            "default": 0
                          },
                          "protein": {
                            "type": "number",
                            "default": 0
                          },
                          "carbs": {
                            "type": "number",
                            "default": 0
                          },
                          "fat": {
                            "type": "number",
                            "default": 0
                          },
                          "duration": {
                            "type": "number",
                            "default": 0
                          },
                          "difficulty": {
                            "type": "string",
                            "default": "easy"
                          },
                          "servings": {
                            "type": "number",
                            "default": 1
                          },
                          "tags": {
                            "type": "array",
                            "items": {
                              "type": "string"
                            },
                            "default": []
                          },
                          "ingredients": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "properties": {
                                "name": {
                                  "type": "object",
                                  "additionalProperties": {
                                    "type": "string"
                                  },
                                  "default": {}
                                },
                                "amountValue": {
                                  "type": "number",
                                  "default": 0
                                },
                                "amountUnit": {
                                  "type": "object",
                                  "additionalProperties": {
                                    "type": "string"
                                  },
                                  "default": {}
                                },
                                "calories": {
                                  "type": "number",
                                  "default": 0
                                },
                                "protein": {
                                  "type": "number",
                                  "default": 0
                                },
                                "carbs": {
                                  "type": "number",
                                  "default": 0
                                },
                                "fat": {
                                  "type": "number",
                                  "default": 0
                                },
                                "status": {
                                  "type": "string",
                                  "enum": [
                                    "uploading",
                                    "analyzing",
                                    "done",
                                    "failed"
                                  ],
                                  "default": "done"
                                },
                                "imageUrl": {
                                  "type": [
                                    "string",
                                    "null"
                                  ]
                                }
                              }
                            },
                            "default": []
                          },
                          "recipeHealthAssessment": {
                            "type": "object",
                            "properties": {
                              "score": {
                                "type": "number"
                              },
                              "pros": {
                                "type": "object",
                                "additionalProperties": {
                                  "type": "array",
                                  "items": {
                                    "type": "string"
                                  }
                                },
                                "default": {}
                              },
                              "cons": {
                                "type": "object",
                                "additionalProperties": {
                                  "type": "array",
                                  "items": {
                                    "type": "string"
                                  }
                                },
                                "default": {}
                              }
                            },
                            "required": [
                              "score"
                            ]
                          },
                          "steps": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "properties": {
                                "order": {
                                  "type": "number"
                                },
                                "stepDescription": {
                                  "type": "object",
                                  "additionalProperties": {
                                    "type": "string"
                                  },
                                  "default": {}
                                },
                                "status": {
                                  "type": "string",
                                  "enum": [
                                    "uploading",
                                    "analyzing",
                                    "done",
                                    "failed"
                                  ],
                                  "default": "done"
                                }
                              },
                              "required": [
                                "order"
                              ]
                            },
                            "default": []
                          },
                          "stepsImg": {
                            "type": "array",
                            "items": {
                              "type": "string"
                            },
                            "default": []
                          },
                          "status": {
                            "type": "string",
                            "enum": [
                              "uploading",
                              "analyzing",
                              "done",
                              "failed"
                            ],
                            "default": "done"
                          },
                          "progress": {
                            "type": "number",
                            "default": 0
                          },
                          "isDeleted": {
                            "type": "boolean",
                            "default": false
                          },
                          "deletedAt": {},
                          "createdAt": {},
                          "updatedAt": {},
                          "favoritedAt": {}
                        }
                      }
                    },
                    "error": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "success"
                  ],
                  "description": "收藏食譜列表回應"
                }
              }
            }
          },
          "401": {
            "description": "未授權 - 需要有效的 Firebase ID token",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "default": false
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "code": {
                            "type": "number"
                          },
                          "message": {
                            "type": "string"
                          }
                        },
                        "required": [
                          "code",
                          "message"
                        ]
                      }
                    }
                  },
                  "required": [
                    "errors"
                  ]
                }
              }
            }
          },
          "500": {
            "description": "伺服器錯誤",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "default": false
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "code": {
                            "type": "number"
                          },
                          "message": {
                            "type": "string"
                          }
                        },
                        "required": [
                          "code",
                          "message"
                        ]
                      }
                    }
                  },
                  "required": [
                    "errors"
                  ]
                }
              }
            }
          }
        }
      }
    },
    "/weight": {
      "post": {
        "tags": [
          "Weight"
        ],
        "summary": "新增體重記錄",
        "description": "為已驗證使用者新增體重記錄",
        "operationId": "addWeight",
        "security": [
          {
            "Bearer": []
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "dateId": {
                    "type": "string",
                    "pattern": "^\\d{4}-\\d{2}-\\d{2}$"
                  },
                  "weight": {
                    "type": "number",
                    "exclusiveMinimum": 0
                  },
                  "unit": {
                    "type": "string",
                    "minLength": 1
                  },
                  "source": {
                    "type": "string",
                    "default": "manual"
                  },
                  "createdAt": {}
                },
                "required": [
                  "weight",
                  "unit"
                ],
                "description": "體重記錄資料"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "成功新增體重記錄",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "default": true
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "請求參數錯誤",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "default": false
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "code": {
                            "type": "number"
                          },
                          "message": {
                            "type": "string"
                          }
                        },
                        "required": [
                          "code",
                          "message"
                        ]
                      }
                    }
                  },
                  "required": [
                    "errors"
                  ]
                }
              }
            }
          },
          "401": {
            "description": "未授權 - 需要有效的 Firebase ID token",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "default": false
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "code": {
                            "type": "number"
                          },
                          "message": {
                            "type": "string"
                          }
                        },
                        "required": [
                          "code",
                          "message"
                        ]
                      }
                    }
                  },
                  "required": [
                    "errors"
                  ]
                }
              }
            }
          },
          "500": {
            "description": "伺服器錯誤",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "default": false
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "code": {
                            "type": "number"
                          },
                          "message": {
                            "type": "string"
                          }
                        },
                        "required": [
                          "code",
                          "message"
                        ]
                      }
                    }
                  },
                  "required": [
                    "errors"
                  ]
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "Weight"
        ],
        "summary": "取得體重記錄列表",
        "description": "取得已驗證使用者的體重記錄列表，支援可選的日期過濾",
        "operationId": "getWeight",
        "security": [
          {
            "Bearer": []
          }
        ],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "pattern": "^\\d{4}-\\d{2}-\\d{2}$",
              "description": "過濾此日期之後的體重記錄（包含此日期）"
            },
            "required": false,
            "description": "過濾此日期之後的體重記錄（包含此日期）",
            "name": "startDate",
            "in": "query"
          }
        ],
        "responses": {
          "200": {
            "description": "成功取得體重記錄列表",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "result": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "dateId": {
                            "type": "string",
                            "pattern": "^\\d{4}-\\d{2}-\\d{2}$"
                          },
                          "weight": {
                            "type": "number",
                            "exclusiveMinimum": 0
                          },
                          "unit": {
                            "type": "string",
                            "minLength": 1
                          },
                          "source": {
                            "type": "string",
                            "default": "manual"
                          },
                          "createdAt": {}
                        },
                        "required": [
                          "dateId",
                          "weight",
                          "unit"
                        ]
                      }
                    },
                    "error": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "success"
                  ],
                  "description": "體重記錄列表回應"
                }
              }
            }
          },
          "400": {
            "description": "請求參數錯誤",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "default": false
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "code": {
                            "type": "number"
                          },
                          "message": {
                            "type": "string"
                          }
                        },
                        "required": [
                          "code",
                          "message"
                        ]
                      }
                    }
                  },
                  "required": [
                    "errors"
                  ]
                }
              }
            }
          },
          "401": {
            "description": "未授權 - 需要有效的 Firebase ID token",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "default": false
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "code": {
                            "type": "number"
                          },
                          "message": {
                            "type": "string"
                          }
                        },
                        "required": [
                          "code",
                          "message"
                        ]
                      }
                    }
                  },
                  "required": [
                    "errors"
                  ]
                }
              }
            }
          },
          "500": {
            "description": "伺服器錯誤",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "default": false
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "code": {
                            "type": "number"
                          },
                          "message": {
                            "type": "string"
                          }
                        },
                        "required": [
                          "code",
                          "message"
                        ]
                      }
                    }
                  },
                  "required": [
                    "errors"
                  ]
                }
              }
            }
          }
        }
      }
    },
    "/weight/latest": {
      "get": {
        "tags": [
          "Weight"
        ],
        "summary": "取得最新體重記錄",
        "description": "取得已驗證使用者的最新體重記錄",
        "operationId": "getLatestWeight",
        "security": [
          {
            "Bearer": []
          }
        ],
        "responses": {
          "200": {
            "description": "成功取得最新體重記錄",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "result": {
                      "type": "object",
                      "properties": {
                        "dateId": {
                          "type": "string",
                          "pattern": "^\\d{4}-\\d{2}-\\d{2}$"
                        },
                        "weight": {
                          "type": "number",
                          "exclusiveMinimum": 0
                        },
                        "unit": {
                          "type": "string",
                          "minLength": 1
                        },
                        "source": {
                          "type": "string",
                          "default": "manual"
                        },
                        "createdAt": {}
                      },
                      "required": [
                        "dateId",
                        "weight",
                        "unit"
                      ]
                    },
                    "error": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "success"
                  ],
                  "description": "最新體重記錄回應（如果沒有記錄則 result 為 null）"
                }
              }
            }
          },
          "401": {
            "description": "未授權 - 需要有效的 Firebase ID token",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "default": false
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "code": {
                            "type": "number"
                          },
                          "message": {
                            "type": "string"
                          }
                        },
                        "required": [
                          "code",
                          "message"
                        ]
                      }
                    }
                  },
                  "required": [
                    "errors"
                  ]
                }
              }
            }
          },
          "500": {
            "description": "伺服器錯誤",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "default": false
                    },
                    "errors": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "code": {
                            "type": "number"
                          },
                          "message": {
                            "type": "string"
                          }
                        },
                        "required": [
                          "code",
                          "message"
                        ]
                      }
                    }
                  },
                  "required": [
                    "errors"
                  ]
                }
              }
            }
          }
        }
      }
    },
    "/dummy/{slug}": {
      "post": {
        "tags": [
          "Dummy"
        ],
        "summary": "this endpoint is an example",
        "operationId": "example-endpoint",
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "required": true,
            "name": "slug",
            "in": "path"
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string"
                  }
                },
                "required": [
                  "name"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Returns the log details",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "result": {
                      "type": "object",
                      "properties": {
                        "msg": {
                          "type": "string"
                        },
                        "slug": {
                          "type": "string"
                        },
                        "name": {
                          "type": "string"
                        }
                      },
                      "required": [
                        "msg",
                        "slug",
                        "name"
                      ]
                    }
                  },
                  "required": [
                    "success",
                    "result"
                  ]
                }
              }
            }
          }
        }
      }
    }
  },
  "webhooks": {}
}